__NUXT_JSONP__("/zh/guide/features/server-routes", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a_,a$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN){return {data:[{page:{key:"content:zh:2.guide:2.features:9.server-routes.md",generatedAt:new Date(1657627200151),mtime:new Date(1657627200126),slug:ah,title:S,position:"000200020009",to:"\u002Fguide\u002Ffeatures\u002Fserver-routes",draft:Q,page:T,language:"zh",empty:Q,description:"Nuxt automatically scans files inside the ~\u002Fserver\u002Fapi, ~\u002Fserver\u002Froutes, and ~\u002Fserver\u002Fmiddleware directories to register API and server handlers with HMR support.",excerpt:ai,body:{raw:"# Server Routes\n\nNuxt automatically scans files inside the `~\u002Fserver\u002Fapi`, `~\u002Fserver\u002Froutes`, and `~\u002Fserver\u002Fmiddleware` directories to register API and server handlers with HMR support.\n\nEach file should export a default function defined with `defineEventHandler()`.\n\nThe handler can directly return JSON data, a `Promise` or use `event.res.end()` to send response.\n\n::ReadMore{link=\"https:\u002F\u002Fnitro.unjs.io\u002Fguide\u002Frouting.html\" title=\"Nitro Route Handling Docs\"}\n::\n\n## Example\n\nCreate a new file in `server\u002Fapi\u002Fhello.ts`:\n\n```ts [\u002Fserver\u002Fapi\u002Fhello.ts]\nexport default defineEventHandler((event) =\u003E {\n  return {\n    api: 'works'\n  }\n})\n```\n\nYou can now universally call this API using `await $fetch('\u002Fapi\u002Fhello')`.\n\n## Server Routes\n\nFiles inside the `~\u002Fserver\u002Fapi` are automatically prefixed with `\u002Fapi` in their route.\nFor adding server routes without `\u002Fapi` prefix, you can instead put them into `~\u002Fserver\u002Froutes` directory.\n\n**Example:**\n\n```ts [\u002Fserver\u002Froutes\u002Fhello.ts]\nexport default defineEventHandler(() =\u003E 'Hello World!')\n```\n\nGiven the Example above, the `\u002Fhello` route will be accessible at \u003Chttp:\u002F\u002Flocalhost:3000\u002Fhello\u003E.\n\n## Server Middleware\n\nNuxt will automatically read in any file in the `~\u002Fserver\u002Fmiddleware` to create server middleware for your project.\n\nMiddleware handlers will run on every request before any other server route to add check and some headers, log requests, or extend the event's request object.\n\n::alert{type=warning}\nMiddleware handlers should not return anything (nor close or respond to the request) and only inspect or extend the request context or throw an error.\n::\n\n**Examples:**\n\n```ts [\u002Fserver\u002Fmiddleware\u002Flog.ts]\nexport default defineEventHandler((event) =\u003E {\n  console.log('New request: ' + event.req.url)\n})\n```\n\n```ts [\u002Fserver\u002Fmiddleware\u002Fauth.ts]\nexport default defineEventHandler((event) =\u003E {\n  event.context.auth = { user: 123 }\n})\n```\n\n## Server Utilities\n\nServer routes are powered by [unjs\u002Fh3](https:\u002F\u002Fgithub.com\u002Funjs\u002Fh3) which comes with a handy set of helpers.\n\n::ReadMore{link=\"https:\u002F\u002Fwww.jsdocs.io\u002Fpackage\u002Fh3#package-index-functions\" title=\"Available H3 Request Helpers\"}\n::\n\nYou can add more helpers by yourself inside the `~\u002Fserver\u002Futils` directory.\n\n## Usage Examples\n\n### Matching Route Parameters\n\nServer routes can use dynamic parameters within brackets in the file name like `\u002Fapi\u002Fhello\u002F[name].ts` and accessed via `event.context.params`.\n\n**Example:**\n\n```ts [\u002Fserver\u002Fapi\u002Fhello\u002F[name].ts]\nexport default defineEventHandler(event =\u003E `Hello, ${event.context.params.name}!`)\n```\n\nYou can now universally call this API using `await $fetch('\u002Fapi\u002Fhello\u002Fnuxt')` and get `Hello, nuxt!`.\n\n### Matching HTTP Method\n\nHandle file names can be suffixed with `.get`, `.post`, `.put`, `.delete`, ... to match request's [HTTP Method](https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FHTTP\u002FMethods).\n\n```ts [\u002Fserver\u002Fapi\u002Ftest.get.ts]\nexport default defineEventHandler(() =\u003E 'Test get handler')\n```\n\n```ts [\u002Fserver\u002Fapi\u002Ftest.post.ts]\nexport default defineEventHandler(() =\u003E 'Test post handler')\n```\n\nGiven the Example above, fetching `\u002Ftest` with:\n\n- **GET** method: Returns `Test get handler`\n- **POST** method: Returns `Test post handler`\n- Any other method: Returns 404 error\n\n### Catch-all route\n\nCatch-all routes are helpful for fallback route handling. For example, creating a file named `~\u002Fserver\u002Fapi\u002Ffoo\u002F[...].ts` will register a catch-all route for all requests that do not match any route handler, such as `\u002Fapi\u002Ffoo\u002Fbar\u002Fbaz`.\n\n**Examples:**\n\n```ts [\u002Fserver\u002Fapi\u002Ffoo\u002F[...].ts]\nexport default defineEventHandler(() =\u003E `Default foo handler`)\n```\n\n```ts [\u002Fserver\u002Fapi\u002F[...].ts]\nexport default defineEventHandler(() =\u003E `Default api handler`)\n```\n\n### Handling Requests with Body\n\n```ts [\u002Fserver\u002Fapi\u002Fsubmit.post.ts]\nexport default defineEventHandler(async (event) =\u003E {\n    const body = await useBody(event)\n    return { body }\n})\n```\n\nYou can now universally call this API using `$fetch('\u002Fapi\u002Fsubmit', { method: 'post', body: { test: 123 } })`.\n\n::alert{type=warning title=Attention}\nWe are using `submit.post.ts` in the filename only to match requests with `POST` method that can accept the request body. When using `useBody` within a GET request, `useBody` will throw a `405 Method Not Allowed` HTTP error.\n::\n\n### Handling Requests with query parameters\n\nSample query `\u002Fapi\u002Fquery?param1=a&param2=b`\n\n```ts [\u002Fserver\u002Fapi\u002Fquery.get.ts]\nexport default defineEventHandler((event) =\u003E {\n  const query = useQuery(event)\n  return { a: query.param1, b: query.param2 }\n})\n```\n\n### Get access to the runtimeConfig\n\n```ts [\u002Fserver\u002Fapi\u002Ffoo.ts]\n\nexport default defineEventHandler((event) =\u003E {\n  const config = useRuntimeConfig()\n  return { key: config.KEY }\n})\n```\n\n### Access Request Cookies\n\n```ts\nexport default defineEventHandler((event) =\u003E {\n  const cookies = useCookies(event)\n  return { cookies }\n})\n```\n\n## Advanced Usage Examples\n\n### Using a nested router\n\n```ts [\u002Fserver\u002Fapi\u002Fhello.ts]\nimport { createRouter } from 'h3'\n\nconst router = createRouter()\n\nrouter.get('\u002F', () =\u003E 'Hello World')\n\nexport default router\n```\n\n### Sending streams (experimental)\n\n**Note:** This is an experimental feature and available only within Node.js environments.\n\n```ts [\u002Fserver\u002Fapi\u002Ffoo.get.ts]\nimport fs from 'node:fs'\nimport { sendStream } from 'h3'\n\nexport default defineEventHandler((event) =\u003E {\n  return sendStream(event, fs.createReadStream('\u002Fpath\u002Fto\u002Ffile'))\n})\n```\n\n### Return a legacy handler or middleware\n\n```ts [\u002Fserver\u002Fapi\u002Flegacy.ts]\nexport default (req, res) =\u003E {\n  res.end('Legacy handler')\n}\n```\n\n::alert{type=warning}\nLegacy support is possible using [unjs\u002Fh3](https:\u002F\u002Fgithub.com\u002Funjs\u002Fh3) but it advised to avoid legacy handlers as much as you can.\n::\n\n```ts [\u002Fserver\u002Fmiddleware\u002Flegacy.ts]\nexport default (req, res, next) =\u003E {\n  console.log('Legacy middleware')\n  next()\n}\n```\n\n::alert{type=warning}\nNever combine `next()` callback with a legacy middleware that is `async` or returns a `Promise`!\n::\n",ast:{type:"root",children:[{type:b,tag:"prose-h1",props:{class:"d-heading-title",id:ah},children:[{type:a,value:S}]},{type:a,value:f},{type:b,tag:m,props:{class:"d-heading-description"},children:[{type:a,value:"Nuxt automatically scans files inside the "},{type:b,tag:k,props:{},children:[{type:a,value:aj}]},{type:a,value:U},{type:b,tag:k,props:{},children:[{type:a,value:ak}]},{type:a,value:", and "},{type:b,tag:k,props:{},children:[{type:a,value:al}]},{type:a,value:" directories to register API and server handlers with HMR support."}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"Each file should export a default function defined with "},{type:b,tag:k,props:{},children:[{type:a,value:"defineEventHandler()"}]},{type:a,value:o}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"The handler can directly return JSON data, a "},{type:b,tag:k,props:{},children:[{type:a,value:am}]},{type:a,value:" or use "},{type:b,tag:k,props:{},children:[{type:a,value:"event.res.end()"}]},{type:a,value:" to send response."}]},{type:a,value:f},{type:b,tag:an,props:{link:"https:\u002F\u002Fnitro.unjs.io\u002Fguide\u002Frouting.html",title:"Nitro Route Handling Docs"},children:[]},{type:a,value:f},{type:b,tag:J,props:{id:ao},children:[{type:b,tag:q,props:{href:"#example"},children:[{type:a,value:ap}]}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"Create a new file in "},{type:b,tag:k,props:{},children:[{type:a,value:"server\u002Fapi\u002Fhello.ts"}]},{type:a,value:K}]},{type:a,value:f},{type:b,tag:t,props:{},children:[{type:b,tag:c,props:{className:[B]},children:[{type:a,value:aq}]},{type:b,tag:u,props:{className:[v,w]},children:[{type:b,tag:x,props:{},children:[{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:y}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:z}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:A}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:L}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"\n    api"},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:K}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:"'works'"}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:$},{type:b,tag:k,props:{},children:[{type:a,value:"await $fetch('\u002Fapi\u002Fhello')"}]},{type:a,value:o}]},{type:a,value:f},{type:b,tag:J,props:{id:ar},children:[{type:b,tag:q,props:{href:"#server-routes-1"},children:[{type:a,value:S}]}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"Files inside the "},{type:b,tag:k,props:{},children:[{type:a,value:aj}]},{type:a,value:" are automatically prefixed with "},{type:b,tag:k,props:{},children:[{type:a,value:as}]},{type:a,value:" in their route.\nFor adding server routes without "},{type:b,tag:k,props:{},children:[{type:a,value:as}]},{type:a,value:" prefix, you can instead put them into "},{type:b,tag:k,props:{},children:[{type:a,value:ak}]},{type:a,value:at}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:b,tag:I,props:{},children:[{type:a,value:au}]}]},{type:a,value:f},{type:b,tag:t,props:{},children:[{type:b,tag:c,props:{className:[B]},children:[{type:a,value:"\u002Fserver\u002Froutes\u002Fhello.ts"}]},{type:b,tag:u,props:{className:[v,w]},children:[{type:b,tag:x,props:{},children:[{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:y}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:z}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:A}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:"'Hello World!'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"Given the Example above, the "},{type:b,tag:k,props:{},children:[{type:a,value:"\u002Fhello"}]},{type:a,value:" route will be accessible at "},{type:b,tag:q,props:{href:av,rel:[V,W,X],target:Y},children:[{type:a,value:av}]},{type:a,value:o}]},{type:a,value:f},{type:b,tag:J,props:{id:aw},children:[{type:b,tag:q,props:{href:"#server-middleware"},children:[{type:a,value:ax}]}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"Nuxt will automatically read in any file in the "},{type:b,tag:k,props:{},children:[{type:a,value:al}]},{type:a,value:" to create server middleware for your project."}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"Middleware handlers will run on every request before any other server route to add check and some headers, log requests, or extend the event's request object."}]},{type:a,value:f},{type:b,tag:Z,props:{type:_},children:[{type:b,tag:m,props:{},children:[{type:a,value:"Middleware handlers should not return anything (nor close or respond to the request) and only inspect or extend the request context or throw an error."}]}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:b,tag:I,props:{},children:[{type:a,value:ay}]}]},{type:a,value:f},{type:b,tag:t,props:{},children:[{type:b,tag:c,props:{className:[B]},children:[{type:a,value:"\u002Fserver\u002Fmiddleware\u002Flog.ts"}]},{type:b,tag:u,props:{className:[v,w]},children:[{type:b,tag:x,props:{},children:[{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:y}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:z}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:A}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,az]},children:[{type:a,value:aA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aB}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:"'New request: '"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"+"}]},{type:a,value:" event"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"url"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:t,props:{},children:[{type:b,tag:c,props:{className:[B]},children:[{type:a,value:"\u002Fserver\u002Fmiddleware\u002Fauth.ts"}]},{type:b,tag:u,props:{className:[v,w]},children:[{type:b,tag:x,props:{},children:[{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:y}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:z}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:A}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"\n  event"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:aC},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"auth "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:M}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:" user"},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:K}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,"number"]},children:[{type:a,value:"123"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:J,props:{id:aD},children:[{type:b,tag:q,props:{href:"#server-utilities"},children:[{type:a,value:aE}]}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"Server routes are powered by "},{type:b,tag:q,props:{href:aF,rel:[V,W,X],target:Y},children:[{type:a,value:aG}]},{type:a,value:" which comes with a handy set of helpers."}]},{type:a,value:f},{type:b,tag:an,props:{link:"https:\u002F\u002Fwww.jsdocs.io\u002Fpackage\u002Fh3#package-index-functions",title:"Available H3 Request Helpers"},children:[]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"You can add more helpers by yourself inside the "},{type:b,tag:k,props:{},children:[{type:a,value:"~\u002Fserver\u002Futils"}]},{type:a,value:at}]},{type:a,value:f},{type:b,tag:J,props:{id:aH},children:[{type:b,tag:q,props:{href:"#usage-examples"},children:[{type:a,value:aI}]}]},{type:a,value:f},{type:b,tag:F,props:{id:aJ},children:[{type:b,tag:q,props:{href:"#matching-route-parameters"},children:[{type:a,value:aK}]}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"Server routes can use dynamic parameters within brackets in the file name like "},{type:b,tag:k,props:{},children:[{type:a,value:"\u002Fapi\u002Fhello\u002F[name].ts"}]},{type:a,value:" and accessed via "},{type:b,tag:k,props:{},children:[{type:a,value:"event.context.params"}]},{type:a,value:o}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:b,tag:I,props:{},children:[{type:a,value:au}]}]},{type:a,value:f},{type:b,tag:t,props:{},children:[{type:b,tag:c,props:{className:[B]},children:[{type:a,value:"\u002Fserver\u002Fapi\u002Fhello\u002F[name].ts"}]},{type:b,tag:u,props:{className:[v,w]},children:[{type:b,tag:x,props:{},children:[{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:y}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:z}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:"event "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:A}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ab]},children:[{type:b,tag:c,props:{className:[d,N,p]},children:[{type:a,value:O}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:"Hello, "}]},{type:b,tag:c,props:{className:[d,"interpolation"]},children:[{type:b,tag:c,props:{className:[d,aL,e]},children:[{type:a,value:"${"}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:aC},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"params"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"name"},{type:b,tag:c,props:{className:[d,aL,e]},children:[{type:a,value:r}]}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:aM}]},{type:b,tag:c,props:{className:[d,N,p]},children:[{type:a,value:O}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:$},{type:b,tag:k,props:{},children:[{type:a,value:"await $fetch('\u002Fapi\u002Fhello\u002Fnuxt')"}]},{type:a,value:" and get "},{type:b,tag:k,props:{},children:[{type:a,value:"Hello, nuxt!"}]},{type:a,value:o}]},{type:a,value:f},{type:b,tag:F,props:{id:aN},children:[{type:b,tag:q,props:{href:"#matching-http-method"},children:[{type:a,value:aO}]}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"Handle file names can be suffixed with "},{type:b,tag:k,props:{},children:[{type:a,value:".get"}]},{type:a,value:U},{type:b,tag:k,props:{},children:[{type:a,value:".post"}]},{type:a,value:U},{type:b,tag:k,props:{},children:[{type:a,value:".put"}]},{type:a,value:U},{type:b,tag:k,props:{},children:[{type:a,value:".delete"}]},{type:a,value:", ... to match request's "},{type:b,tag:q,props:{href:"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FHTTP\u002FMethods",rel:[V,W,X],target:Y},children:[{type:a,value:"HTTP Method"}]},{type:a,value:o}]},{type:a,value:f},{type:b,tag:t,props:{},children:[{type:b,tag:c,props:{className:[B]},children:[{type:a,value:"\u002Fserver\u002Fapi\u002Ftest.get.ts"}]},{type:b,tag:u,props:{className:[v,w]},children:[{type:b,tag:x,props:{},children:[{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:y}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:z}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:A}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:"'Test get handler'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:t,props:{},children:[{type:b,tag:c,props:{className:[B]},children:[{type:a,value:"\u002Fserver\u002Fapi\u002Ftest.post.ts"}]},{type:b,tag:u,props:{className:[v,w]},children:[{type:b,tag:x,props:{},children:[{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:y}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:z}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:A}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:"'Test post handler'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"Given the Example above, fetching "},{type:b,tag:k,props:{},children:[{type:a,value:"\u002Ftest"}]},{type:a,value:" with:"}]},{type:a,value:f},{type:b,tag:"prose-ul",props:{},children:[{type:a,value:f},{type:b,tag:ac,props:{},children:[{type:a,value:f},{type:b,tag:I,props:{},children:[{type:a,value:"GET"}]},{type:a,value:aP},{type:b,tag:k,props:{},children:[{type:a,value:"Test get handler"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:ac,props:{},children:[{type:a,value:f},{type:b,tag:I,props:{},children:[{type:a,value:aQ}]},{type:a,value:aP},{type:b,tag:k,props:{},children:[{type:a,value:"Test post handler"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:ac,props:{},children:[{type:a,value:f},{type:a,value:"Any other method: Returns 404 error"},{type:a,value:f}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:F,props:{id:aR},children:[{type:b,tag:q,props:{href:"#catch-all-route"},children:[{type:a,value:aS}]}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"Catch-all routes are helpful for fallback route handling. For example, creating a file named "},{type:b,tag:k,props:{},children:[{type:a,value:"~\u002Fserver\u002Fapi\u002Ffoo\u002F[...].ts"}]},{type:a,value:" will register a catch-all route for all requests that do not match any route handler, such as "},{type:b,tag:k,props:{},children:[{type:a,value:"\u002Fapi\u002Ffoo\u002Fbar\u002Fbaz"}]},{type:a,value:o}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:b,tag:I,props:{},children:[{type:a,value:ay}]}]},{type:a,value:f},{type:b,tag:t,props:{},children:[{type:b,tag:c,props:{className:[B]},children:[{type:a,value:"\u002Fserver\u002Fapi\u002Ffoo\u002F[...].ts"}]},{type:b,tag:u,props:{className:[v,w]},children:[{type:b,tag:x,props:{},children:[{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:y}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:z}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:A}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ab]},children:[{type:b,tag:c,props:{className:[d,N,p]},children:[{type:a,value:O}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:"Default foo handler"}]},{type:b,tag:c,props:{className:[d,N,p]},children:[{type:a,value:O}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:t,props:{},children:[{type:b,tag:c,props:{className:[B]},children:[{type:a,value:"\u002Fserver\u002Fapi\u002F[...].ts"}]},{type:b,tag:u,props:{className:[v,w]},children:[{type:b,tag:x,props:{},children:[{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:y}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:z}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:A}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ab]},children:[{type:b,tag:c,props:{className:[d,N,p]},children:[{type:a,value:O}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:"Default api handler"}]},{type:b,tag:c,props:{className:[d,N,p]},children:[{type:a,value:O}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:F,props:{id:aT},children:[{type:b,tag:q,props:{href:"#handling-requests-with-body"},children:[{type:a,value:aU}]}]},{type:a,value:f},{type:b,tag:t,props:{},children:[{type:b,tag:c,props:{className:[B]},children:[{type:a,value:"\u002Fserver\u002Fapi\u002Fsubmit.post.ts"}]},{type:b,tag:u,props:{className:[v,w]},children:[{type:b,tag:x,props:{},children:[{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:y}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:z}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:aV}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:A}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:aW},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:R}]},{type:a,value:aX},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:M}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"await"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:ad}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aW},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:L}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:aX},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:$},{type:b,tag:k,props:{},children:[{type:a,value:"$fetch('\u002Fapi\u002Fsubmit', { method: 'post', body: { test: 123 } })"}]},{type:a,value:o}]},{type:a,value:f},{type:b,tag:Z,props:{type:_,title:"Attention"},children:[{type:b,tag:m,props:{},children:[{type:a,value:"We are using "},{type:b,tag:k,props:{},children:[{type:a,value:"submit.post.ts"}]},{type:a,value:" in the filename only to match requests with "},{type:b,tag:k,props:{},children:[{type:a,value:aQ}]},{type:a,value:" method that can accept the request body. When using "},{type:b,tag:k,props:{},children:[{type:a,value:ad}]},{type:a,value:" within a GET request, "},{type:b,tag:k,props:{},children:[{type:a,value:ad}]},{type:a,value:" will throw a "},{type:b,tag:k,props:{},children:[{type:a,value:"405 Method Not Allowed"}]},{type:a,value:" HTTP error."}]}]},{type:a,value:f},{type:b,tag:F,props:{id:aY},children:[{type:b,tag:q,props:{href:"#handling-requests-with-query-parameters"},children:[{type:a,value:aZ}]}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"Sample query "},{type:b,tag:k,props:{},children:[{type:a,value:"\u002Fapi\u002Fquery?param1=a&param2=b"}]}]},{type:a,value:f},{type:b,tag:t,props:{},children:[{type:b,tag:c,props:{className:[B]},children:[{type:a,value:"\u002Fserver\u002Fapi\u002Fquery.get.ts"}]},{type:b,tag:u,props:{className:[v,w]},children:[{type:b,tag:x,props:{},children:[{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:y}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:z}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:A}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:R}]},{type:a,value:" query "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:M}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"useQuery"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:L}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:" a"},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:K}]},{type:a,value:a_},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"param1"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:P}]},{type:a,value:" b"},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:K}]},{type:a,value:a_},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"param2 "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:F,props:{id:a$},children:[{type:b,tag:q,props:{href:"#get-access-to-the-runtimeconfig"},children:[{type:a,value:ba}]}]},{type:a,value:f},{type:b,tag:t,props:{},children:[{type:b,tag:c,props:{className:[B]},children:[{type:a,value:"\u002Fserver\u002Fapi\u002Ffoo.ts"}]},{type:b,tag:u,props:{className:[v,w]},children:[{type:b,tag:x,props:{},children:[{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:y}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:z}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:A}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:R}]},{type:a,value:" config "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:M}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"useRuntimeConfig"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:L}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:" key"},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:K}]},{type:a,value:" config"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,"constant"]},children:[{type:a,value:"KEY"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:F,props:{id:bb},children:[{type:b,tag:q,props:{href:"#access-request-cookies"},children:[{type:a,value:bc}]}]},{type:a,value:f},{type:b,tag:t,props:{},children:[{type:b,tag:u,props:{className:[v,w]},children:[{type:b,tag:x,props:{},children:[{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:y}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:z}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:A}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:R}]},{type:a,value:bd},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:M}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"useCookies"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:L}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:bd},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:J,props:{id:be},children:[{type:b,tag:q,props:{href:"#advanced-usage-examples"},children:[{type:a,value:bf}]}]},{type:a,value:f},{type:b,tag:F,props:{id:bg},children:[{type:b,tag:q,props:{href:"#using-a-nested-router"},children:[{type:a,value:bh}]}]},{type:a,value:f},{type:b,tag:t,props:{},children:[{type:b,tag:c,props:{className:[B]},children:[{type:a,value:aq}]},{type:b,tag:u,props:{className:[v,w]},children:[{type:b,tag:x,props:{},children:[{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ae}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:" createRouter "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:af}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:bi}]},{type:a,value:ag},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:R}]},{type:a,value:" router "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:M}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"createRouter"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"\n\nrouter"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"get"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:"'\u002F'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:P}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:A}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:"'Hello World'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:ag},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:y}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:z}]},{type:a,value:" router\n"}]}]}]},{type:a,value:f},{type:b,tag:F,props:{id:bj},children:[{type:b,tag:q,props:{href:"#sending-streams-experimental"},children:[{type:a,value:bk}]}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:b,tag:I,props:{},children:[{type:a,value:"Note:"}]},{type:a,value:" This is an experimental feature and available only within Node.js environments."}]},{type:a,value:f},{type:b,tag:t,props:{},children:[{type:b,tag:c,props:{className:[B]},children:[{type:a,value:"\u002Fserver\u002Fapi\u002Ffoo.get.ts"}]},{type:b,tag:u,props:{className:[v,w]},children:[{type:b,tag:x,props:{},children:[{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ae}]},{type:a,value:" fs "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:af}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:"'node:fs'"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ae}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:" sendStream "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:af}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:bi}]},{type:a,value:ag},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:y}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:z}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:A}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:L}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"sendStream"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:P}]},{type:a,value:" fs"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"createReadStream"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:"'\u002Fpath\u002Fto\u002Ffile'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:F,props:{id:bl},children:[{type:b,tag:q,props:{href:"#return-a-legacy-handler-or-middleware"},children:[{type:a,value:bm}]}]},{type:a,value:f},{type:b,tag:t,props:{},children:[{type:b,tag:c,props:{className:[B]},children:[{type:a,value:"\u002Fserver\u002Fapi\u002Flegacy.ts"}]},{type:b,tag:u,props:{className:[v,w]},children:[{type:b,tag:x,props:{},children:[{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:y}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:z}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:P}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:A}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"\n  res"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"end"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:"'Legacy handler'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:Z,props:{type:_},children:[{type:b,tag:m,props:{},children:[{type:a,value:"Legacy support is possible using "},{type:b,tag:q,props:{href:aF,rel:[V,W,X],target:Y},children:[{type:a,value:aG}]},{type:a,value:" but it advised to avoid legacy handlers as much as you can."}]}]},{type:a,value:f},{type:b,tag:t,props:{},children:[{type:b,tag:c,props:{className:[B]},children:[{type:a,value:"\u002Fserver\u002Fmiddleware\u002Flegacy.ts"}]},{type:b,tag:u,props:{className:[v,w]},children:[{type:b,tag:x,props:{},children:[{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:y}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:z}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:P}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:P}]},{type:a,value:" next"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:A}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,az]},children:[{type:a,value:aA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aB}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:"'Legacy middleware'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"next"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:Z,props:{type:_},children:[{type:b,tag:m,props:{},children:[{type:a,value:"Never combine "},{type:b,tag:k,props:{},children:[{type:a,value:"next()"}]},{type:a,value:" callback with a legacy middleware that is "},{type:b,tag:k,props:{},children:[{type:a,value:aV}]},{type:a,value:" or returns a "},{type:b,tag:k,props:{},children:[{type:a,value:am}]},{type:a,value:aM}]}]}]},toc:{title:bo,searchDepth:H,depth:H,links:[{id:ao,depth:H,text:ap},{id:ar,depth:H,text:S},{id:aw,depth:H,text:ax},{id:aD,depth:H,text:aE},{id:aH,depth:H,text:aI,children:[{id:aJ,depth:G,text:aK},{id:aN,depth:G,text:aO},{id:aR,depth:G,text:aS},{id:aT,depth:G,text:aU},{id:aY,depth:G,text:aZ},{id:a$,depth:G,text:ba},{id:bb,depth:G,text:bc}]},{id:be,depth:H,text:bf,children:[{id:bg,depth:G,text:bh},{id:bj,depth:G,text:bk},{id:bl,depth:G,text:bm}]}]}},template:bp},templateOptions:{header:T,footer:T,aside:T,asideClass:bo,fluid:Q,banner:Q},_img:{}}],fetch:{"0":{headerLinks:[{title:"发现",items:[{title:bq,subtitle:"Selection of websites built with Nuxt",slug:"showcases",to:br,icon:"showcases.svg",color:"bg-sand"},{title:"Case studies",subtitle:"How companies use Nuxt",slug:"case-studies",to:"\u002Fcase-studies",icon:"case-studies.svg",color:"bg-sand-dark"},{title:"Testimonials",subtitle:"What they think about us",slug:"testimonials",to:"\u002Ftestimonials",icon:"testimonials.svg",color:"bg-sand-darker"}]},{title:"Learn",items:[{title:bp,subtitle:"Create fast websites easily",slug:"docs",to:bs,icon:"docs.svg",color:"bg-green-500"},{title:bt,subtitle:"Understand everything in Nuxt",slug:"examples",to:bu,icon:"examples.svg",color:"bg-green-600"},{title:bv,subtitle:"Learn with concrete cases",slug:"tutorials",to:bw,icon:"tutorials.svg",color:"bg-green-700"},{title:bx,subtitle:"Learn more with experts",href:by,icon:"master-courses.svg",color:"bg-green-800"}]},{title:"Explore",items:[{title:bz,subtitle:"How to Deploy Nuxt",slug:"deployments",to:bA,icon:"deployments.svg",color:"bg-indigo-light"},{title:bB,subtitle:"Extend the power of Nuxt",href:bC,icon:"modules.svg",color:"bg-indigo"},{title:bD,subtitle:"Get started with themes",slug:"themes",to:bE,icon:"themes.svg",color:"bg-indigo-dark"},{title:"Video Courses",subtitle:"Learn step by step",slug:"video-courses",to:"\u002Fvideo-courses",icon:"video-courses.svg",color:"bg-indigo-darker"}]},{title:"Community",items:[{title:bF,subtitle:"Latest news about Nuxt",slug:"announcements",to:bG,icon:"announcements.svg",color:"bg-mint-lighter"},{title:bH,subtitle:"They are Nuxt",slug:"teams",to:bI,icon:"teams.svg",color:"bg-mint-light"},{title:bJ,subtitle:"All the code we have released",slug:"releases",to:bK,icon:"releases.svg",color:"bg-mint"},{title:bL,subtitle:"They trust us",slug:"sponsors",to:bM,icon:"sponsors.svg",color:"bg-mint-dark"}]},{title:"Partners",slug:"partners",to:bN}],footerLinks:[{title:"About",items:[{title:"Contact us",href:"mailto:hello@nuxtjs.com"},{title:"Enterprise support",to:"\u002Fsupport"},{title:"NuxtLabs company",href:"https:\u002F\u002Fnuxtlabs.com\u002F"},{title:"Open Source Software",href:"https:\u002F\u002Fgithub.com\u002Fnuxt"},{title:"Partnerships",to:bN},{title:"Telemetry",href:"https:\u002F\u002Fgithub.com\u002Fnuxt\u002Ftelemetry"}]},{title:"Ecosystem",items:[{title:bF,to:bG},{title:"Contribute",to:"\u002Fcontribution-guide"},{title:"Chat with us",href:"https:\u002F\u002Fdiscord.nuxtjs.org\u002F"},{title:"Events",to:"\u002Fevents"},{title:bL,to:bM},{title:bH,to:bI},{title:bv,to:bw},{title:"Video courses",to:"\u002Fvideo-courses\u002F"}]},{title:"Resources",items:[{title:"Design",to:"\u002Fdesign"},{title:"Documentation",to:bs},{title:bt,to:bu},{title:bz,to:bA},{title:bx,href:by},{title:bB,href:bC},{title:bJ,to:bK},{title:bq,to:br},{title:bD,to:bE}]}],showCookieBanner:Q},"1":{repoUrl:"https:\u002F\u002Fgithub.com\u002Fpangu-dev\u002Fpangu",prev:{slug:"plugins",to:"\u002Fguide\u002Ffeatures\u002Fplugins",title:"Plugins"},next:{slug:"runtime-config",to:"\u002Fguide\u002Ffeatures\u002Fruntime-config",title:"Runtime Config"}},_lazyComponents:new Set(["ProseParagraph","ButtonLink","HomeHero","SectionContentItem","HomeFeatures","IconNuxtNitro","Headline","ProseStrong","ProseA","ProseCodeInline","NuxtContainer","IconNuxtBridge","ProseH3","ProseLi","ProseUl","List","ProseH1","ProseH2","ProseTh","ProseTr","ProseThead","ProseTd","ProseTbody","ProseTable","ProseCode","Alert","CodeGroup","ProseEm","ProseBlockquote","ProseOl","ProseImg","NeedContribution","ReadMore","LinkExample","ProseH4"])},mutations:ai}}("text","element","span","token","punctuation","\n"," ","keyword","(",")","prose-code-inline","operator","prose-paragraph","function",".","string","prose-a","}","{","prose-code","pre","language-ts","line-numbers","code","export","default","=\u003E","filename","defineEventHandler","event","\n  ","prose-h3",3,2,"prose-strong","prose-h2",":","return","=","template-punctuation","`",",",false,"const","Server Routes",true,", ","nofollow","noopener","noreferrer","_blank","alert","warning","You can now universally call this API using ","req","template-string","prose-li","useBody","import","from","\n\n","server-routes",void 0,"~\u002Fserver\u002Fapi","~\u002Fserver\u002Froutes","~\u002Fserver\u002Fmiddleware","Promise","read-more","example","Example","\u002Fserver\u002Fapi\u002Fhello.ts","server-routes-1","\u002Fapi"," directory.","Example:","http:\u002F\u002Flocalhost:3000\u002Fhello","server-middleware","Server Middleware","Examples:","builtin","console","log","context","server-utilities","Server Utilities","https:\u002F\u002Fgithub.com\u002Funjs\u002Fh3","unjs\u002Fh3","usage-examples","Usage Examples","matching-route-parameters","Matching Route Parameters","interpolation-punctuation","!","matching-http-method","Matching HTTP Method"," method: Returns ","POST","catch-all-route","Catch-all route","handling-requests-with-body","Handling Requests with Body","async","\n    "," body ","handling-requests-with-query-parameters","Handling Requests with query parameters"," query","get-access-to-the-runtimeconfig","Get access to the runtimeConfig","access-request-cookies","Access Request Cookies"," cookies ","advanced-usage-examples","Advanced Usage Examples","using-a-nested-router","Using a nested router","'h3'","sending-streams-experimental","Sending streams (experimental)","return-a-legacy-handler-or-middleware","Return a legacy handler or middleware"," res","","Docs","Showcases","\u002Fshowcases","\u002Fdocs","Examples","\u002Fexamples","Tutorials","\u002Ftutorials","Master courses","https:\u002F\u002Fmasteringnuxt.com\u002F?utm_source=nuxt&utm_medium=link&utm_campaign=nsite","Deployments","\u002Fdeployments","Modules","https:\u002F\u002Fmodules.nuxtjs.org","Themes","\u002Fthemes","Announcements","\u002Fannouncements","Teams","\u002Fteams","Releases","\u002Freleases","Sponsors","\u002Fsponsors","\u002Fpartners")));