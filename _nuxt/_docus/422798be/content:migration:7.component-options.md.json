{"key":"content:migration:7.component-options.md","generatedAt":"2022-07-10T09:55:51.505Z","mtime":"2022-07-10T09:55:51.481Z","slug":"component-options","title":"Component Options","position":"999900070000","to":"/migration/component-options","draft":false,"page":true,"language":"en","head":{"title":"Nuxt 2 to Nuxt 3: Component Options","titleTemplate":""},"empty":false,"description":"","body":{"raw":"---\nhead.title: 'Nuxt 2 to Nuxt 3: Component Options'\nhead.titleTemplate: ''\n---\n\n# Component Options\n\n## `asyncData` and `fetch` component options\n\nNuxt 3 provides new options for [fetching data from an API](/guide/features/data-fetching).\n\n<!-- TODO: Intro to <script setup> -->\n<!-- TODO: Mention about options compatibility with asyncData -->\n\n### Isomorphic fetch\n\nIn Nuxt 2 you might use `@nuxtjs/axios` or `@nuxt/http` to fetch your data - or just the polyfilled global `fetch`.\n\nIn Nuxt 3 you can use a globally available `fetch` method that has the same API as [the Fetch API](https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch) or `$fetch` method which is using [unjs/ohmyfetch](https://github.com/unjs/ohmyfetch). It has a number of benefits, including:\n\n1. It will handle 'smartly' making [direct API calls](/guide/concepts/server-engine#direct-api-calls) if it's running on the server, or making a client-side call to your API if it's running on the client. (It can also handle calling third-party APIs.)\n\n2. Plus, it comes with convenience features including automatically parsing responses and stringifying data.\n\nYou can read more [about direct API calls](/guide/concepts/server-engine#direct-api-calls) or [fetching data](/guide/features/data-fetching).\n\n### Using composables\n\nNuxt 3 provides new composables for fetching data: `useAsyncData` and `useFetch`. They each have 'lazy' variants (`useLazyAsyncData` and `useLazyFetch`), which do not block client-side navigation.\n\nIn Nuxt 2, you'd fetch your data in your component using a syntax similar to:\n\n```ts\nexport default {\n  async asyncData({ params, $http }) {\n    const post = await $http.$get(`https://api.nuxtjs.dev/posts/${params.id}`)\n    return { post }\n  },\n  // or alternatively\n  fetch () {\n    this.post = await $http.$get(`https://api.nuxtjs.dev/posts/${params.id}`)\n  }\n}\n```\n\nWithin your methods and templates, you could use the `post` variable similar how you'd use any other piece of data provided by your component.\n\nWith Nuxt 3, you can perform this data fetching using composables in your `setup()` method or `<script setup>` tag:\n\n```vue\n<script setup>\n  // Define params wherever, through `defineProps()`, `useRoute()`, etc.\n  const { data: post, refresh } = await useAsyncData('post', () => $fetch(`https://api.nuxtjs.dev/posts/${params.id}`) )\n  // Or instead - useFetch is a convenience wrapper around useAsyncData when you're just performing a simple fetch\n  const { data: post, refresh } = await useFetch(`https://api.nuxtjs.dev/posts/${params.id}`)\n</script>\n```\n\nYou can now use `post` inside of your Nuxt 3 template, or call `refresh` to update the data.\n\n::alert{type=info}\nDespite the names, `useFetch` is not a direct replacement of the `fetch()` hook. Rather, `useAsyncData` replaces both hooks and is most customizable; it can do more than simply fetching data from an endpoint. `useFetch` is a convenience wrapper around `useAsyncData` for simply fetching data from an endpoint.\n::\n\n### Migration\n\n1. Replace the `asyncData` hook with `useAsyncData` or `useFetch` in your page/component.\n1. Replace the `fetch` hook with `useAsyncData` or `useFetch` in your component.\n\n## `head`\n\nSee [meta tag migration](/migration/meta).\n\n## `key`\n\nYou can now define a key within the `definePageMeta` compiler macro.\n\n```diff [pages/index.vue]\n- <script>\n- export default {\n-   key: 'index'\n-   // or a method\n-   // key: route => route.fullPath\n- }\n+ <script setup>\n+ definePageMeta({\n+   key: 'index'\n+   // or a method\n+   // key: route => route.fullPath\n+ })\n  </script>\n```\n\n### Migration\n\n1. Migrate `key` from component options to `definePageMeta`.\n\n## `layout`\n\nSee [layout migration](/migration/pages-and-layouts).\n\n## `loading`\n\nThis feature is not yet supported in Nuxt 3.\n\n## `middleware`\n\nSee [middleware migration](/migration/plugins-and-middleware).\n\n## `scrollToTop`\n\nThis feature is not yet supported in Nuxt 3. If you want to overwrite the default scroll behavior of `vue-router`, you can do so in `~/app/router.options.ts` (see [docs](/guide/directory-structure/pages/#router-options)) for more info.\n\n## `transition`\n\nSee [layout migration](/migration/pages-and-layouts).\n\n## `validate`\n\nThere is no longer a validate hook in Nuxt 3. Instead, you can create a custom middleware function, or directly throw an error in the setup function of the page.\n\n```diff [pages/users/[id].vue]\n- <script>\n- export default {\n-   async validate({ params, query, store }) {\n-     return true // if valid\n-   }\n- }\n+ <script setup>\n+ definePageMeta({\n+   middleware: [\n+     async function (to, from) {\n+       const nuxtApp = useNuxtApp()\n+       if (!valid) {\n+         return abortNavigation('Page not found')\n+       }\n+     }\n+   ]\n+ })\n  </script>\n```\n\n## `watchQuery`\n\nThis is not supported in Nuxt 3. Instead, you can directly use a watcher to trigger refetching data.\n\n```vue [pages/users/[id].vue]\n<script setup>\nconst route = useRoute()\nconst { data, refresh } = await useFetch('/api/user')\nwatch(() => route.query, () => refresh())\n</script>\n```\n","ast":{"type":"root","children":[{"type":"element","tag":"prose-h1","props":{"class":"d-heading-title","id":"component-options"},"children":[{"type":"text","value":"Component Options"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"asyncdata-and-fetch-component-options"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#asyncdata-and-fetch-component-options"},"children":[{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"asyncData"}]},{"type":"text","value":" and "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"fetch"}]},{"type":"text","value":" component options"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Nuxt 3 provides new options for "},{"type":"element","tag":"prose-a","props":{"href":"/guide/features/data-fetching"},"children":[{"type":"text","value":"fetching data from an API"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"text","value":"\n"},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h3","props":{"id":"isomorphic-fetch"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#isomorphic-fetch"},"children":[{"type":"text","value":"Isomorphic fetch"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"In Nuxt 2 you might use "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"@nuxtjs/axios"}]},{"type":"text","value":" or "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"@nuxt/http"}]},{"type":"text","value":" to fetch your data - or just the polyfilled global "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"fetch"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"In Nuxt 3 you can use a globally available "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"fetch"}]},{"type":"text","value":" method that has the same API as "},{"type":"element","tag":"prose-a","props":{"href":"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"the Fetch API"}]},{"type":"text","value":" or "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"$fetch"}]},{"type":"text","value":" method which is using "},{"type":"element","tag":"prose-a","props":{"href":"https://github.com/unjs/ohmyfetch","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"unjs/ohmyfetch"}]},{"type":"text","value":". It has a number of benefits, including:"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ol","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"It will handle 'smartly' making "},{"type":"element","tag":"prose-a","props":{"href":"/guide/concepts/server-engine#direct-api-calls"},"children":[{"type":"text","value":"direct API calls"}]},{"type":"text","value":" if it's running on the server, or making a client-side call to your API if it's running on the client. (It can also handle calling third-party APIs.)"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Plus, it comes with convenience features including automatically parsing responses and stringifying data."},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"You can read more "},{"type":"element","tag":"prose-a","props":{"href":"/guide/concepts/server-engine#direct-api-calls"},"children":[{"type":"text","value":"about direct API calls"}]},{"type":"text","value":" or "},{"type":"element","tag":"prose-a","props":{"href":"/guide/features/data-fetching"},"children":[{"type":"text","value":"fetching data"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h3","props":{"id":"using-composables"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#using-composables"},"children":[{"type":"text","value":"Using composables"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Nuxt 3 provides new composables for fetching data: "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"useAsyncData"}]},{"type":"text","value":" and "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"useFetch"}]},{"type":"text","value":". They each have 'lazy' variants ("},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"useLazyAsyncData"}]},{"type":"text","value":" and "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"useLazyFetch"}]},{"type":"text","value":"), which do not block client-side navigation."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"In Nuxt 2, you'd fetch your data in your component using a syntax similar to:"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"pre","props":{"className":["line-numbers","language-ts"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"export"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"default"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"async"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"asyncData"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" params"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" $http "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" post "},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"await"}]},{"type":"text","value":" $http"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"$get"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","template-string"]},"children":[{"type":"element","tag":"span","props":{"className":["token","template-punctuation","string"]},"children":[{"type":"text","value":"`"}]},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"https://api.nuxtjs.dev/posts/"}]},{"type":"element","tag":"span","props":{"className":["token","interpolation"]},"children":[{"type":"element","tag":"span","props":{"className":["token","interpolation-punctuation","punctuation"]},"children":[{"type":"text","value":"${"}]},{"type":"text","value":"params"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"id"},{"type":"element","tag":"span","props":{"className":["token","interpolation-punctuation","punctuation"]},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"className":["token","template-punctuation","string"]},"children":[{"type":"text","value":"`"}]}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n    "},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" post "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","comment"]},"children":[{"type":"text","value":"// or alternatively"}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"fetch"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"post "},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"await"}]},{"type":"text","value":" $http"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"$get"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","template-string"]},"children":[{"type":"element","tag":"span","props":{"className":["token","template-punctuation","string"]},"children":[{"type":"text","value":"`"}]},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"https://api.nuxtjs.dev/posts/"}]},{"type":"element","tag":"span","props":{"className":["token","interpolation"]},"children":[{"type":"element","tag":"span","props":{"className":["token","interpolation-punctuation","punctuation"]},"children":[{"type":"text","value":"${"}]},{"type":"text","value":"params"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"id"},{"type":"element","tag":"span","props":{"className":["token","interpolation-punctuation","punctuation"]},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"className":["token","template-punctuation","string"]},"children":[{"type":"text","value":"`"}]}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Within your methods and templates, you could use the "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"post"}]},{"type":"text","value":" variable similar how you'd use any other piece of data provided by your component."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"With Nuxt 3, you can perform this data fetching using composables in your "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"setup()"}]},{"type":"text","value":" method or "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"<script setup>"}]},{"type":"text","value":" tag:"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"pre","props":{"className":["line-numbers","language-html"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"script"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","attr-name"]},"children":[{"type":"text","value":"setup"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"span","props":{"className":["token","script"]},"children":[{"type":"element","tag":"span","props":{"className":["token","language-javascript"]},"children":[{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","comment"]},"children":[{"type":"text","value":"// Define params wherever, through `defineProps()`, `useRoute()`, etc."}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" data"},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" post"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" refresh "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword","control-flow"]},"children":[{"type":"text","value":"await"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"useAsyncData"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'post'"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","arrow","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"$fetch"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","template-string"]},"children":[{"type":"element","tag":"span","props":{"className":["token","template-punctuation","string"]},"children":[{"type":"text","value":"`"}]},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"https://api.nuxtjs.dev/posts/"}]},{"type":"element","tag":"span","props":{"className":["token","interpolation"]},"children":[{"type":"element","tag":"span","props":{"className":["token","interpolation-punctuation","punctuation"]},"children":[{"type":"text","value":"${"}]},{"type":"text","value":"params"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","property-access"]},"children":[{"type":"text","value":"id"}]},{"type":"element","tag":"span","props":{"className":["token","interpolation-punctuation","punctuation"]},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"className":["token","template-punctuation","string"]},"children":[{"type":"text","value":"`"}]}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","comment"]},"children":[{"type":"text","value":"// Or instead - useFetch is a convenience wrapper around useAsyncData when you're just performing a simple fetch"}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" data"},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" post"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" refresh "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword","control-flow"]},"children":[{"type":"text","value":"await"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"useFetch"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","template-string"]},"children":[{"type":"element","tag":"span","props":{"className":["token","template-punctuation","string"]},"children":[{"type":"text","value":"`"}]},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"https://api.nuxtjs.dev/posts/"}]},{"type":"element","tag":"span","props":{"className":["token","interpolation"]},"children":[{"type":"element","tag":"span","props":{"className":["token","interpolation-punctuation","punctuation"]},"children":[{"type":"text","value":"${"}]},{"type":"text","value":"params"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","property-access"]},"children":[{"type":"text","value":"id"}]},{"type":"element","tag":"span","props":{"className":["token","interpolation-punctuation","punctuation"]},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"className":["token","template-punctuation","string"]},"children":[{"type":"text","value":"`"}]}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"</"}]},{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"You can now use "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"post"}]},{"type":"text","value":" inside of your Nuxt 3 template, or call "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"refresh"}]},{"type":"text","value":" to update the data."}]},{"type":"text","value":"\n"},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Despite the names, "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"useFetch"}]},{"type":"text","value":" is not a direct replacement of the "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"fetch()"}]},{"type":"text","value":" hook. Rather, "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"useAsyncData"}]},{"type":"text","value":" replaces both hooks and is most customizable; it can do more than simply fetching data from an endpoint. "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"useFetch"}]},{"type":"text","value":" is a convenience wrapper around "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"useAsyncData"}]},{"type":"text","value":" for simply fetching data from an endpoint."}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h3","props":{"id":"migration"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#migration"},"children":[{"type":"text","value":"Migration"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ol","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Replace the "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"asyncData"}]},{"type":"text","value":" hook with "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"useAsyncData"}]},{"type":"text","value":" or "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"useFetch"}]},{"type":"text","value":" in your page/component."},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Replace the "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"fetch"}]},{"type":"text","value":" hook with "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"useAsyncData"}]},{"type":"text","value":" or "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"useFetch"}]},{"type":"text","value":" in your component."},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"head"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#head"},"children":[{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"head"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"See "},{"type":"element","tag":"prose-a","props":{"href":"/migration/meta"},"children":[{"type":"text","value":"meta tag migration"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"key"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#key"},"children":[{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"key"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"You can now define a key within the "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"definePageMeta"}]},{"type":"text","value":" compiler macro."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"pages/index.vue"}]},{"type":"element","tag":"pre","props":{"className":["line-numbers","language-diff"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","deleted-sign","deleted"]},"children":[{"type":"element","tag":"span","props":{"className":["token","prefix","deleted"]},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"className":["token","line"]},"children":[{"type":"text","value":" <script>\n"}]},{"type":"element","tag":"span","props":{"className":["token","prefix","deleted"]},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"className":["token","line"]},"children":[{"type":"text","value":" export default {\n"}]},{"type":"element","tag":"span","props":{"className":["token","prefix","deleted"]},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"className":["token","line"]},"children":[{"type":"text","value":"   key: 'index'\n"}]},{"type":"element","tag":"span","props":{"className":["token","prefix","deleted"]},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"className":["token","line"]},"children":[{"type":"text","value":"   // or a method\n"}]},{"type":"element","tag":"span","props":{"className":["token","prefix","deleted"]},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"className":["token","line"]},"children":[{"type":"text","value":"   // key: route => route.fullPath\n"}]},{"type":"element","tag":"span","props":{"className":["token","prefix","deleted"]},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"className":["token","line"]},"children":[{"type":"text","value":" }\n"}]}]},{"type":"element","tag":"span","props":{"className":["token","inserted-sign","inserted"]},"children":[{"type":"element","tag":"span","props":{"className":["token","prefix","inserted"]},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"className":["token","line"]},"children":[{"type":"text","value":" <script setup>\n"}]},{"type":"element","tag":"span","props":{"className":["token","prefix","inserted"]},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"className":["token","line"]},"children":[{"type":"text","value":" definePageMeta({\n"}]},{"type":"element","tag":"span","props":{"className":["token","prefix","inserted"]},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"className":["token","line"]},"children":[{"type":"text","value":"   key: 'index'\n"}]},{"type":"element","tag":"span","props":{"className":["token","prefix","inserted"]},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"className":["token","line"]},"children":[{"type":"text","value":"   // or a method\n"}]},{"type":"element","tag":"span","props":{"className":["token","prefix","inserted"]},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"className":["token","line"]},"children":[{"type":"text","value":"   // key: route => route.fullPath\n"}]},{"type":"element","tag":"span","props":{"className":["token","prefix","inserted"]},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"className":["token","line"]},"children":[{"type":"text","value":" })\n"}]}]},{"type":"element","tag":"span","props":{"className":["token","unchanged"]},"children":[{"type":"element","tag":"span","props":{"className":["token","prefix","unchanged"]},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"className":["token","line"]},"children":[{"type":"text","value":" </script>\n"}]}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h3","props":{"id":"migration-1"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#migration-1"},"children":[{"type":"text","value":"Migration"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ol","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Migrate "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"key"}]},{"type":"text","value":" from component options to "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"definePageMeta"}]},{"type":"text","value":"."},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"layout"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#layout"},"children":[{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"layout"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"See "},{"type":"element","tag":"prose-a","props":{"href":"/migration/pages-and-layouts"},"children":[{"type":"text","value":"layout migration"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"loading"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#loading"},"children":[{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"loading"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"This feature is not yet supported in Nuxt 3."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"middleware"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#middleware"},"children":[{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"middleware"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"See "},{"type":"element","tag":"prose-a","props":{"href":"/migration/plugins-and-middleware"},"children":[{"type":"text","value":"middleware migration"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"scrolltotop"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#scrolltotop"},"children":[{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"scrollToTop"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"This feature is not yet supported in Nuxt 3. If you want to overwrite the default scroll behavior of "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"vue-router"}]},{"type":"text","value":", you can do so in "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"~/app/router.options.ts"}]},{"type":"text","value":" (see "},{"type":"element","tag":"prose-a","props":{"href":"/guide/directory-structure/pages/#router-options"},"children":[{"type":"text","value":"docs"}]},{"type":"text","value":") for more info."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"transition"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#transition"},"children":[{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"transition"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"See "},{"type":"element","tag":"prose-a","props":{"href":"/migration/pages-and-layouts"},"children":[{"type":"text","value":"layout migration"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"validate"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#validate"},"children":[{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"validate"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"There is no longer a validate hook in Nuxt 3. Instead, you can create a custom middleware function, or directly throw an error in the setup function of the page."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"pages/users/[id].vue"}]},{"type":"element","tag":"pre","props":{"className":["line-numbers","language-diff"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","deleted-sign","deleted"]},"children":[{"type":"element","tag":"span","props":{"className":["token","prefix","deleted"]},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"className":["token","line"]},"children":[{"type":"text","value":" <script>\n"}]},{"type":"element","tag":"span","props":{"className":["token","prefix","deleted"]},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"className":["token","line"]},"children":[{"type":"text","value":" export default {\n"}]},{"type":"element","tag":"span","props":{"className":["token","prefix","deleted"]},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"className":["token","line"]},"children":[{"type":"text","value":"   async validate({ params, query, store }) {\n"}]},{"type":"element","tag":"span","props":{"className":["token","prefix","deleted"]},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"className":["token","line"]},"children":[{"type":"text","value":"     return true // if valid\n"}]},{"type":"element","tag":"span","props":{"className":["token","prefix","deleted"]},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"className":["token","line"]},"children":[{"type":"text","value":"   }\n"}]},{"type":"element","tag":"span","props":{"className":["token","prefix","deleted"]},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"className":["token","line"]},"children":[{"type":"text","value":" }\n"}]}]},{"type":"element","tag":"span","props":{"className":["token","inserted-sign","inserted"]},"children":[{"type":"element","tag":"span","props":{"className":["token","prefix","inserted"]},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"className":["token","line"]},"children":[{"type":"text","value":" <script setup>\n"}]},{"type":"element","tag":"span","props":{"className":["token","prefix","inserted"]},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"className":["token","line"]},"children":[{"type":"text","value":" definePageMeta({\n"}]},{"type":"element","tag":"span","props":{"className":["token","prefix","inserted"]},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"className":["token","line"]},"children":[{"type":"text","value":"   middleware: [\n"}]},{"type":"element","tag":"span","props":{"className":["token","prefix","inserted"]},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"className":["token","line"]},"children":[{"type":"text","value":"     async function (to, from) {\n"}]},{"type":"element","tag":"span","props":{"className":["token","prefix","inserted"]},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"className":["token","line"]},"children":[{"type":"text","value":"       const nuxtApp = useNuxtApp()\n"}]},{"type":"element","tag":"span","props":{"className":["token","prefix","inserted"]},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"className":["token","line"]},"children":[{"type":"text","value":"       if (!valid) {\n"}]},{"type":"element","tag":"span","props":{"className":["token","prefix","inserted"]},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"className":["token","line"]},"children":[{"type":"text","value":"         return abortNavigation('Page not found')\n"}]},{"type":"element","tag":"span","props":{"className":["token","prefix","inserted"]},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"className":["token","line"]},"children":[{"type":"text","value":"       }\n"}]},{"type":"element","tag":"span","props":{"className":["token","prefix","inserted"]},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"className":["token","line"]},"children":[{"type":"text","value":"     }\n"}]},{"type":"element","tag":"span","props":{"className":["token","prefix","inserted"]},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"className":["token","line"]},"children":[{"type":"text","value":"   ]\n"}]},{"type":"element","tag":"span","props":{"className":["token","prefix","inserted"]},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"className":["token","line"]},"children":[{"type":"text","value":" })\n"}]}]},{"type":"element","tag":"span","props":{"className":["token","unchanged"]},"children":[{"type":"element","tag":"span","props":{"className":["token","prefix","unchanged"]},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"className":["token","line"]},"children":[{"type":"text","value":" </script>\n"}]}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"watchquery"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#watchquery"},"children":[{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"watchQuery"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"This is not supported in Nuxt 3. Instead, you can directly use a watcher to trigger refetching data."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"pages/users/[id].vue"}]},{"type":"element","tag":"pre","props":{"className":["line-numbers","language-html"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"script"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","attr-name"]},"children":[{"type":"text","value":"setup"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"span","props":{"className":["token","script"]},"children":[{"type":"element","tag":"span","props":{"className":["token","language-javascript"]},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" route "},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"useRoute"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" data"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" refresh "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword","control-flow"]},"children":[{"type":"text","value":"await"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"useFetch"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'/api/user'"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"watch"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","arrow","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" route"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","property-access"]},"children":[{"type":"text","value":"query"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","arrow","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"refresh"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"</"}]},{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n"}]}]}]}]},"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"asyncdata-and-fetch-component-options","depth":2,"text":"asyncData and fetch component options","children":[{"id":"isomorphic-fetch","depth":3,"text":"Isomorphic fetch"},{"id":"using-composables","depth":3,"text":"Using composables"},{"id":"migration","depth":3,"text":"Migration"}]},{"id":"head","depth":2,"text":"head"},{"id":"key","depth":2,"text":"key","children":[{"id":"migration-1","depth":3,"text":"Migration"}]},{"id":"layout","depth":2,"text":"layout"},{"id":"loading","depth":2,"text":"loading"},{"id":"middleware","depth":2,"text":"middleware"},{"id":"scrolltotop","depth":2,"text":"scrollToTop"},{"id":"transition","depth":2,"text":"transition"},{"id":"validate","depth":2,"text":"validate"},{"id":"watchquery","depth":2,"text":"watchQuery"}]}}}