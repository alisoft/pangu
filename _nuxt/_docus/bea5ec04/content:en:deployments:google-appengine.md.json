{"key":"content:en:deployments:google-appengine.md","generatedAt":"2022-04-22T12:57:54.043Z","mtime":"2022-04-22T12:57:54.030Z","slug":"google-appengine","title":"Google App Engine","position":"999999990000","to":"/deployments/google-appengine","draft":false,"page":true,"language":"en","template":"guide","description":"How to deploy Nuxt on Google App Engine?","target":"Server","category":"deployment","logo":{"light":"/img/companies/square/light/Google_engine_app.svg","dark":"/img/companies/square/dark/Google_engine_app.svg"},"empty":false,"body":{"raw":"---\ntemplate: guide\ntitle: Google App Engine\ndescription: How to deploy Nuxt on Google App Engine?\ntarget: Server\ncategory: deployment\nlogo:\n  light: \"/img/companies/square/light/Google_engine_app.svg\"\n  dark: \"/img/companies/square/dark/Google_engine_app.svg\"\n---\n# Deploy Nuxt on Google App Engine\n\nHow to deploy Nuxt on Google App Engine?\n\n---\n\nDeploying to [Google App Engine](https://cloud.google.com/appengine/) is a fast and easy solution for hosting your universal Nuxt application on Google's Cloud Services.\n\nIn this guide, we build the application locally and then simply upload the entire project folder to Google App Engine. After the upload, Google App Engine will automatically start the `start` script in our package.json and your app will be available immediately.\n\n## Getting Started\n\nMake sure you have a Google Cloud Account, a project and an empty Google App Engine app set up on [Google App Engine](https://cloud.google.com/appengine/). Furthermore, make sure to download and install the Cloud SDK (CLI) from Google as explained [here](https://cloud.google.com/sdk/) and log into your Google Cloud Account.\n\n## Configure your application\n\nAll you need to add to your universal Nuxt app for deploying it to the App Engine is a file called `app.yaml`. Create a new file with that name in your root project directory and add the following content:\n\n```yaml\nruntime: nodejs10\n\ninstance_class: F2\n\nhandlers:\n  - url: /_nuxt\n    static_dir: .nuxt/dist/client\n    secure: always\n\n  - url: /(.*\\.(gif|png|jpg|ico|txt))$\n    static_files: static/\\1\n    upload: static/.*\\.(gif|png|jpg|ico|txt)$\n    secure: always\n\n  - url: /.*\n    script: auto\n    secure: always\n\nenv_variables:\n  HOST: '0.0.0.0'\n```\n\nor for flexible environment the minimal configuration is:\n\n```yaml\nruntime: nodejs\nenv: flex\n```\n\n## Build and deploy the app\n\nNow build your app with `npm run build` or `yarn build`.\n\nAt this point, your app is ready to be uploaded to Google App Engine. Now just run the following command:\n\n```\ngcloud app deploy app.yaml --project [project-id]\n```\n\nVoilà! Your Nuxt application is now hosted on Google App Engine!\n\n## Further Information\n\n- The `instance_class` attribute in your app.yaml file sets the class of your app instance. Instance F2 is not completely free, but has the minimum memory needed to run a Nuxt application.\n- Make sure `start` in package.json is the command that you want to run after deployment. If you usually run by `start:prod` or some other command, your app will not work as expected.\n\nMake sure to put the `project-id` and not the `project-name` in the deploy command. These are two different things but easy to mix up.\n","ast":{"type":"root","children":[{"type":"element","tag":"prose-h1","props":{"class":"d-heading-title","id":"deploy-nuxt-on-google-app-engine"},"children":[{"type":"text","value":"Deploy Nuxt on Google App Engine"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{"class":"d-heading-description"},"children":[{"type":"text","value":"How to deploy Nuxt on Google App Engine?"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-hr","props":{"class":"d-heading-hr"},"children":[]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Deploying to "},{"type":"element","tag":"prose-a","props":{"href":"https://cloud.google.com/appengine/","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"Google App Engine"}]},{"type":"text","value":" is a fast and easy solution for hosting your universal Nuxt application on Google's Cloud Services."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"In this guide, we build the application locally and then simply upload the entire project folder to Google App Engine. After the upload, Google App Engine will automatically start the "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"start"}]},{"type":"text","value":" script in our package.json and your app will be available immediately."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"getting-started"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#getting-started"},"children":[{"type":"text","value":"Getting Started"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Make sure you have a Google Cloud Account, a project and an empty Google App Engine app set up on "},{"type":"element","tag":"prose-a","props":{"href":"https://cloud.google.com/appengine/","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"Google App Engine"}]},{"type":"text","value":". Furthermore, make sure to download and install the Cloud SDK (CLI) from Google as explained "},{"type":"element","tag":"prose-a","props":{"href":"https://cloud.google.com/sdk/","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"here"}]},{"type":"text","value":" and log into your Google Cloud Account."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"configure-your-application"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#configure-your-application"},"children":[{"type":"text","value":"Configure your application"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"All you need to add to your universal Nuxt app for deploying it to the App Engine is a file called "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"app.yaml"}]},{"type":"text","value":". Create a new file with that name in your root project directory and add the following content:"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"pre","props":{"className":["line-numbers","language-yaml"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"runtime"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" nodejs10\n\n"},{"type":"element","tag":"span","props":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"instance_class"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" F2\n\n"},{"type":"element","tag":"span","props":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"handlers"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"url"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" /_nuxt\n    "},{"type":"element","tag":"span","props":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"static_dir"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" .nuxt/dist/client\n    "},{"type":"element","tag":"span","props":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"secure"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" always\n\n  "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"url"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" /(."},{"type":"element","tag":"span","props":{"className":["token","important"]},"children":[{"type":"text","value":"*\\.(gif|png|jpg|ico|txt))$"}]},{"type":"text","value":"\n    "},{"type":"element","tag":"span","props":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"static_files"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" static/\\1\n    "},{"type":"element","tag":"span","props":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"upload"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" static/."},{"type":"element","tag":"span","props":{"className":["token","important"]},"children":[{"type":"text","value":"*\\.(gif|png|jpg|ico|txt)$"}]},{"type":"text","value":"\n    "},{"type":"element","tag":"span","props":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"secure"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" always\n\n  "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"url"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" /.*\n    "},{"type":"element","tag":"span","props":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" auto\n    "},{"type":"element","tag":"span","props":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"secure"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" always\n\n"},{"type":"element","tag":"span","props":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"env_variables"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"HOST"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'0.0.0.0'"}]},{"type":"text","value":"\n"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"or for flexible environment the minimal configuration is:"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"pre","props":{"className":["line-numbers","language-yaml"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"runtime"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" nodejs\n"},{"type":"element","tag":"span","props":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"env"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" flex\n"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"build-and-deploy-the-app"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#build-and-deploy-the-app"},"children":[{"type":"text","value":"Build and deploy the app"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Now build your app with "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"npm run build"}]},{"type":"text","value":" or "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"yarn build"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"At this point, your app is ready to be uploaded to Google App Engine. Now just run the following command:"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"pre","props":{"className":["line-numbers","language-text"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"gcloud app deploy app.yaml --project [project-id]\n"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Voilà! Your Nuxt application is now hosted on Google App Engine!"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"further-information"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#further-information"},"children":[{"type":"text","value":"Further Information"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"The "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"instance_class"}]},{"type":"text","value":" attribute in your app.yaml file sets the class of your app instance. Instance F2 is not completely free, but has the minimum memory needed to run a Nuxt application."},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Make sure "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"start"}]},{"type":"text","value":" in package.json is the command that you want to run after deployment. If you usually run by "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"start:prod"}]},{"type":"text","value":" or some other command, your app will not work as expected."},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Make sure to put the "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"project-id"}]},{"type":"text","value":" and not the "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"project-name"}]},{"type":"text","value":" in the deploy command. These are two different things but easy to mix up."}]}]},"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"getting-started","depth":2,"text":"Getting Started"},{"id":"configure-your-application","depth":2,"text":"Configure your application"},{"id":"build-and-deploy-the-app","depth":2,"text":"Build and deploy the app"},{"id":"further-information","depth":2,"text":"Further Information"}]}}}