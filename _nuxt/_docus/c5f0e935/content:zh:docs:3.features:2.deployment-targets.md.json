{"key":"content:zh:docs:3.features:2.deployment-targets.md","generatedAt":"2022-04-23T04:29:26.775Z","mtime":"2022-04-23T04:29:26.765Z","slug":"deployment-targets","title":"Deployment Targets","position":"999900030002","to":"/docs/features/deployment-targets","draft":false,"page":true,"language":"zh","category":"features","empty":false,"description":"","body":{"raw":"---\ntitle: Deployment Targets\ncategory: features\n---\n# Deployment Targets\n\n## Static Hosting\n\nNuxt also works as a static site generator. Statically render your Nuxt application and get all of the benefits of a universal app without a server. The `nuxt generate` command will generate a static version of your website. It will generate HTML for every one of your routes and put it inside of its own file in the `dist/` directory. This improves performance as well as SEO and better offline support.\n\n::alert{type=\"info\"}\nDynamic routes are also generated thanks to the [Nuxt Crawler](/docs/configuration-glossary/configuration-generate#crawler)\n::\n\nFor static sites the target of `static` needs to be added to your `nuxt.config` file.\n\n```js{}[nuxt.config.js]\nexport default {\n  target: 'static' // default is 'server'\n}\n```\n\n**Running nuxt dev with the static target will improve the developer experience:**\n\n- Remove `req` & `res` from `context`\n- Fallback to client-side rendering on 404, errors and redirects [see SPA fallback](/docs/concepts/static-site-generation#spa-fallback)\n- `$route.query` will always be equal to `{}` on server-side rendering\n- `process.static` is true\n\n::alert{type=\"info\"}\nWe are also exposing `process.target` for module authors to add logic depending on the user target.\n::\n\n## Server Hosting\n\nServer hosting means running Nuxt on a Node.js server. When the user opens your page, their browser will request that page from the server. Nuxt will handle the request, render the page and send back the resulting page with all its content.\n\nYou might need server hosting if you want to render HTML on each request rather than in advance at generate-time, or if you need [serverMiddleware](/docs/configuration-glossary/configuration-servermiddleware). \n\n::alert{type=\"info\"}\nYou can still run Nuxt with server hosting with `ssr: false` but Nuxt will not fully render the HTML for each page - leaving that task to the browser. You might choose this option if you need serverMiddleware but do not want fully server-side rendered HTML.\n::\n\nFor server hosting, `target: 'server'` is used, which is the default value. You will use the `build` command to build your application.\n\n```js{}[nuxt.config.js]\nexport default {\n  target: 'server'\n}\n```\n","ast":{"type":"root","children":[{"type":"element","tag":"prose-h1","props":{"class":"d-heading-title","id":"deployment-targets"},"children":[{"type":"text","value":"Deployment Targets"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"static-hosting"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#static-hosting"},"children":[{"type":"text","value":"Static Hosting"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Nuxt also works as a static site generator. Statically render your Nuxt application and get all of the benefits of a universal app without a server. The "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt generate"}]},{"type":"text","value":" command will generate a static version of your website. It will generate HTML for every one of your routes and put it inside of its own file in the "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"dist/"}]},{"type":"text","value":" directory. This improves performance as well as SEO and better offline support."}]},{"type":"text","value":"\n"},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Dynamic routes are also generated thanks to the "},{"type":"element","tag":"prose-a","props":{"href":"/docs/configuration-glossary/configuration-generate#crawler"},"children":[{"type":"text","value":"Nuxt Crawler"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"For static sites the target of "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"static"}]},{"type":"text","value":" needs to be added to your "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt.config"}]},{"type":"text","value":" file."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"nuxt.config.js"}]},{"type":"element","tag":"pre","props":{"className":["language-js","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"export"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"default"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","literal-property","property"]},"children":[{"type":"text","value":"target"}]},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'static'"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","comment"]},"children":[{"type":"text","value":"// default is 'server'"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"element","tag":"prose-strong","props":{},"children":[{"type":"text","value":"Running nuxt dev with the static target will improve the developer experience:"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Remove "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"req"}]},{"type":"text","value":" & "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"res"}]},{"type":"text","value":" from "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"context"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Fallback to client-side rendering on 404, errors and redirects "},{"type":"element","tag":"prose-a","props":{"href":"/docs/concepts/static-site-generation#spa-fallback"},"children":[{"type":"text","value":"see SPA fallback"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"$route.query"}]},{"type":"text","value":" will always be equal to "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"{}"}]},{"type":"text","value":" on server-side rendering"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"process.static"}]},{"type":"text","value":" is true"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"We are also exposing "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"process.target"}]},{"type":"text","value":" for module authors to add logic depending on the user target."}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"server-hosting"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#server-hosting"},"children":[{"type":"text","value":"Server Hosting"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Server hosting means running Nuxt on a Node.js server. When the user opens your page, their browser will request that page from the server. Nuxt will handle the request, render the page and send back the resulting page with all its content."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"You might need server hosting if you want to render HTML on each request rather than in advance at generate-time, or if you need "},{"type":"element","tag":"prose-a","props":{"href":"/docs/configuration-glossary/configuration-servermiddleware"},"children":[{"type":"text","value":"serverMiddleware"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"You can still run Nuxt with server hosting with "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"ssr: false"}]},{"type":"text","value":" but Nuxt will not fully render the HTML for each page - leaving that task to the browser. You might choose this option if you need serverMiddleware but do not want fully server-side rendered HTML."}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"For server hosting, "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"target: 'server'"}]},{"type":"text","value":" is used, which is the default value. You will use the "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"build"}]},{"type":"text","value":" command to build your application."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"nuxt.config.js"}]},{"type":"element","tag":"pre","props":{"className":["language-js","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"export"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"default"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","literal-property","property"]},"children":[{"type":"text","value":"target"}]},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'server'"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"}]}]}]}]},"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"static-hosting","depth":2,"text":"Static Hosting"},{"id":"server-hosting","depth":2,"text":"Server Hosting"}]}}}