{"key":"content:en:docs:5.configuration-glossary:19.configuration-modern.md","generatedAt":"2022-04-21T13:49:03.325Z","mtime":"2022-04-21T13:49:03.316Z","slug":"configuration-modern","title":"The modern Property","position":"999900050019","to":"/docs/configuration-glossary/configuration-modern","draft":false,"page":true,"language":"en","navigation":{"title":"modern"},"description":"Build and serve a modern bundle","menu":"modern","category":"configuration-glossary","empty":false,"body":{"raw":"---\ntitle: The modern Property\nnavigation.title: modern\ndescription: Build and serve a modern bundle\nmenu: modern\ncategory: configuration-glossary\n---\n# The modern property\n\nBuild and serve a modern bundle\n\n---\n\n> This feature is inspired by [vue-cli modern mode](https://cli.vuejs.org/guide/browser-compatibility.html#modern-mode)\n\n- Type: `String` or `Boolean`\n  - Default: false\n  - Possible values:\n    - `'client'`: Serve both, the modern bundle `<script type=\"module\">` and the legacy bundle `<script nomodule>` scripts, also provide a `<link rel=\"modulepreload\">` for the modern bundle. Every browser that understands the `module` type will load the modern bundle while older browsers fall back to the legacy (transpiled) one.\n    - `'server'` or `true`: The Node.js server will check browser version based on the user agent and serve the corresponding modern or legacy bundle.\n    - `false`: Disable modern build\n\nThe two versions of bundles are:\n\n1. Modern bundle: targeting modern browsers that support ES modules\n1. Legacy bundle: targeting older browsers based on babel config (IE9 compatible by default).\n\n**Info:**\n\n- Use command option `[--modern | -m]=[mode]` to build/start modern bundles:\n\n```json{}[package.json]\n{\n  \"scripts\": {\n    \"build:modern\": \"nuxt build --modern=server\",\n    \"start:modern\": \"nuxt start --modern=server\"\n  }\n}\n```\n\n**Note about _nuxt generate_:** The `modern` property also works with the `nuxt generate` command, but in this case only the `client` option is honored and will be selected automatically when launching the `nuxt generate --modern` command without providing any values.\n\n- Nuxt will automatically detect `modern` build in `nuxt start` when `modern` is not specified, auto-detected mode is:\n\n| ssr   | Modern Mode |\n| ----- | :---------: |\n| true  |   server    |\n| false |   client    |\n\n- Modern mode for `nuxt generate` can only be `client`\n- Use [`render.crossorigin`](/docs/configuration-glossary/configuration-render#crossorigin) to set `crossorigin` attribute in `<link>` and `<script>`\n\n> Please refer [Phillip Walton's excellent post](https://philipwalton.com/articles/deploying-es2015-code-in-production-today/) for more knowledge regarding modern builds.\n","ast":{"type":"root","children":[{"type":"element","tag":"prose-h1","props":{"class":"d-heading-title","id":"the-modern-property"},"children":[{"type":"text","value":"The modern property"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{"class":"d-heading-description"},"children":[{"type":"text","value":"Build and serve a modern bundle"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-hr","props":{"class":"d-heading-hr"},"children":[]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-blockquote","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"This feature is inspired by "},{"type":"element","tag":"prose-a","props":{"href":"https://cli.vuejs.org/guide/browser-compatibility.html#modern-mode","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"vue-cli modern mode"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Type: "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"String"}]},{"type":"text","value":" or "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"Boolean"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Default: false"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Possible values:"},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"'client'"}]},{"type":"text","value":": Serve both, the modern bundle "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"<script type=\"module\">"}]},{"type":"text","value":" and the legacy bundle "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"<script nomodule>"}]},{"type":"text","value":" scripts, also provide a "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"<link rel=\"modulepreload\">"}]},{"type":"text","value":" for the modern bundle. Every browser that understands the "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"module"}]},{"type":"text","value":" type will load the modern bundle while older browsers fall back to the legacy (transpiled) one."},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"'server'"}]},{"type":"text","value":" or "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"true"}]},{"type":"text","value":": The Node.js server will check browser version based on the user agent and serve the corresponding modern or legacy bundle."},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"false"}]},{"type":"text","value":": Disable modern build"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"The two versions of bundles are:"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ol","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Modern bundle: targeting modern browsers that support ES modules"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Legacy bundle: targeting older browsers based on babel config (IE9 compatible by default)."},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"element","tag":"prose-strong","props":{},"children":[{"type":"text","value":"Info:"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Use command option "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"[--modern | -m]=[mode]"}]},{"type":"text","value":" to build/start modern bundles:"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"package.json"}]},{"type":"element","tag":"pre","props":{"className":["language-json","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","property"]},"children":[{"type":"text","value":"\"scripts\""}]},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tag":"span","props":{"className":["token","property"]},"children":[{"type":"text","value":"\"build:modern\""}]},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"\"nuxt build --modern=server\""}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n    "},{"type":"element","tag":"span","props":{"className":["token","property"]},"children":[{"type":"text","value":"\"start:modern\""}]},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"\"nuxt start --modern=server\""}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"element","tag":"prose-strong","props":{},"children":[{"type":"text","value":"Note about "},{"type":"element","tag":"prose-em","props":{},"children":[{"type":"text","value":"nuxt generate"}]},{"type":"text","value":":"}]},{"type":"text","value":" The "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"modern"}]},{"type":"text","value":" property also works with the "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt generate"}]},{"type":"text","value":" command, but in this case only the "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"client"}]},{"type":"text","value":" option is honored and will be selected automatically when launching the "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt generate --modern"}]},{"type":"text","value":" command without providing any values."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Nuxt will automatically detect "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"modern"}]},{"type":"text","value":" build in "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt start"}]},{"type":"text","value":" when "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"modern"}]},{"type":"text","value":" is not specified, auto-detected mode is:"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-table","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-thead","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-tr","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-th","props":{},"children":[{"type":"text","value":"ssr"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-th","props":{"align":"center"},"children":[{"type":"text","value":"Modern Mode"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-tbody","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-tr","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"true"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{"align":"center"},"children":[{"type":"text","value":"server"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-tr","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"false"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{"align":"center"},"children":[{"type":"text","value":"client"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Modern mode for "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt generate"}]},{"type":"text","value":" can only be "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"client"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Use "},{"type":"element","tag":"prose-a","props":{"href":"/docs/configuration-glossary/configuration-render#crossorigin"},"children":[{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"render.crossorigin"}]}]},{"type":"text","value":" to set "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"crossorigin"}]},{"type":"text","value":" attribute in "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"<link>"}]},{"type":"text","value":" and "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"<script>"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-blockquote","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Please refer "},{"type":"element","tag":"prose-a","props":{"href":"https://philipwalton.com/articles/deploying-es2015-code-in-production-today/","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"Phillip Walton's excellent post"}]},{"type":"text","value":" for more knowledge regarding modern builds."}]},{"type":"text","value":"\n"}]}]},"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}}}