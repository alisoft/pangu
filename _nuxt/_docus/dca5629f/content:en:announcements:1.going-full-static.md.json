{"key":"content:en:announcements:1.going-full-static.md","generatedAt":"2022-04-21T12:37:54.580Z","mtime":"2022-04-21T12:37:54.545Z","slug":"going-full-static","title":"Going Full Static","position":"999900010000","to":"/announcements/going-full-static","draft":false,"page":true,"language":"en","template":"post","description":"Long awaited features for JAMstack fans has been shipped in v2.13: full static export, improved smart prefetching, integrated crawler, faster re-deploy, built-in web server and new target option for config ‚ö°Ô∏è","imgUrl":"blog/going-full-static/main.jpeg","imgCredits":"Vincent Ledvina","imgCreditsUrl":"https://unsplash.com/@vincentledvina","date":"2020-06-18T00:00:00.000Z","authors":[{"name":"Sebastien Chopin","avatarUrl":"https://pbs.twimg.com/profile_images/1042510623962275840/1Iw_Mvud_400x400.jpg","link":"https://twitter.com/Atinux"}],"tags":["Nuxt","Static","Crawler","Live Preview"],"category":"Release","empty":false,"body":{"raw":"---\ntemplate: post\ntitle: 'Going Full Static'\ndescription: 'Long awaited features for JAMstack fans has been shipped in v2.13: full static export, improved smart prefetching, integrated crawler, faster re-deploy, built-in web server and new target option for config ‚ö°Ô∏è'\nimgUrl: blog/going-full-static/main.jpeg\nimgCredits: Vincent Ledvina\nimgCreditsUrl: https://unsplash.com/@vincentledvina\ndate: 2020-06-18\nauthors:\n  - name: Sebastien Chopin\n    avatarUrl: https://pbs.twimg.com/profile_images/1042510623962275840/1Iw_Mvud_400x400.jpg\n    link: https://twitter.com/Atinux\ntags:\n  - Nuxt\n  - Static\n  - Crawler\n  - Live Preview\ncategory: Release\n---\n\n## Too long to read\n\n1. Upgrade nuxt to `2.14.0`\n2. Set `target: 'static'` in your `nuxt.config.js`\n3. Run `nuxt generate`\n4. That's it ‚ú®\n\n_Bonus: you can run `nuxt start` to run a local server serving your generated static application._\n\n::video-player\n---\nsources:\n- src: https://res.cloudinary.com/nuxt/video/upload/v1588095794/nuxt-full-static_rnnbvm.webm\n  type: video/webm\n- src: https://res.cloudinary.com/nuxt/video/upload/v1592503417/nuxt-full-static_rnnbvm.mp4\n  type: video/mp4\n- src: https://res.cloudinary.com/nuxt/video/upload/v1588095794/nuxt-full-static_rnnbvm.ogv\n  type: video/ogg\nposter: https://res.cloudinary.com/nuxt/video/upload/v1588095794/nuxt-full-static_rnnbvm.jpg\n---\n::\n\n<p>\n\nNote: in this video we are using `nuxt export` which has been deprecated in favor of `nuxt generate`.\n\n</p>\n\n## Table of Contents\n\n- [Too long to read](#too-long-to-read)\n- [Table of Contents](#table-of-contents)\n- [History](#history)\n- [Current issues](#current-issues)\n- [New config option: `target`](#new-config-option-target)\n- [Smarter `nuxt generate`](#smarter-nuxt-generate)\n  - [Crazy fast static applications](#crazy-fast-static-applications)\n  - [Crawler integrated](#crawler-integrated)\n  - [Faster re-deploy](#faster-re-deploy)\n- [Smarter `nuxt start`](#smarter-nuxt-start)\n- [Preview mode](#preview-mode)\n- [Commands](#commands)\n  - [What to do next](#what-to-do-next)\n\n## History\n\nNuxt had the static generation feature with `nuxt generate` since [v0.3.2](https://github.com/nuxt/nuxt.js/releases/tag/v0.3.2) (November 2016), since then we have improved it in multiple ways but never achieved full static generation. Today I am excited to announce that full static export is now possible with Nuxt 2.13.\n\n## Current issues\n\n`nuxt generate` is mostly pre-rendering, when you navigate client-side, `asyncData` and `fetch` are called, _making a request to your API_. A lot of users asked to support a \"full static\" mode, meaning to not call these 2 hooks on navigation, since the next page has been already pre-rendered.\n\nAlso, the developer experience is not optimal:\n\n- You have access to `req` or `res` on SSR but not when running `nuxt generate`\n- `process.static` is `true` only when running `nuxt generate`, making it slow to develop Nuxt modules or plugins for static generation\n- You have to specify all your [dynamic routes](/docs/features/file-system-routing#dynamic-routes) in `generate.routes`, making it harder since you don't have access to nuxt modules there.\n- You cannot test the [SPA fallback](/docs/concepts/static-site-generation#spa-fallback) in development, the fallback is a client-only version of your Nuxt application that loads when hitting a 404 page\n- `nuxt generate` runs `nuxt build` by default, making it slower to generate your website if only your content changed\n\nNote that it was possible to have full static support with [nuxt-payload-extractor](https://github.com/DreaMinder/nuxt-payload-extractor) module but it was more verbose to use and had limitations.\n\n## New config option: `target`\n\nTo improve the user experience as well as telling Nuxt that you want to export your application to static hosting, we are introducing a `target` option in your `nuxt.config.js`:\n\n```js{}[nuxt.config.js]\nexport default {\n  target: 'static' // default is 'server'\n}\n```\n\n<base-alert type=\"warning\">\n\nFull static doesn't work with `ssr: 'false'` (which is the same as the deprecated `mode: 'spa'`) as this is used for client-side rendering only (Single Page Applications).\n\n</base-alert>\n\nRunning `nuxt dev` with the static target will improve the developer experience:\n\n- Remove `req` & `res` from context\n- Fallback to client-side rendering on 404, errors and redirects (see [SPA fallback](/docs/concepts/static-site-generation#spa-fallback))\n- `$route.query` will always be equal to `{}` on server-side rendering\n- `process.static` is `true`\n\nWe are also exposing `process.target` for modules author to add logic depending on the user target.\n\n## Smarter `nuxt generate`\n\nNow with `v2.14.0`, you can use `nuxt generate`, it will smartly know if it has to build or not.\n\n### Crazy fast static applications\n\n`nuxt generate` with `target: 'static'` will pre-render all your pages to HTML and save a payload file in order to mock `asyncData` and `fetch` on client-side navigation, this means **no** **more HTTP calls to your API on client-side navigation.** By extracting the page payload to a js file, **it also reduces the HTML size** served as well as preloading it (from the <link> in the header) for optimal performance.\n\nWe also improved the [smart prefetching](/announcements/introducing-smart-prefetching) when doing full static, it will also fetch the payloads, making navigation instant üëÄ\n\n### Crawler integrated\n\nOn top of that, it also has a crawler inside, detecting every relative link and generating it:\n\nIf you want to exclude a bunch of routes, use the [generate.exclude](/docs/configuration-glossary/configuration-generate#exclude). You can keep using [generate.routes](/docs/configuration-glossary/configuration-generate#routes) to add extra routes that the crawler could not detect.\n\nTo disable the crawler, set `generate.crawler: false` in your `nuxt.config.js`\n\n### Faster re-deploy\n\nBy separating `nuxt build` and `nuxt export`, we are opening a new range of improvements: pre-render your pages only if you content has changed, this means: no webpack build ‚Üí faster re-deployments.\n\n## Smarter `nuxt start`\n\nOnce you statically generated your Nuxt app into `dist/`, use `nuxt start` to start a production HTTP server and serve your static app, supporting [SPA Fallback](/docs/concepts/static-site-generation#spa-fallback).\n\nThis command is perfect to locally test your static application before pushing to your favorite static hosting provider.\n\n## Preview mode\n\nWe do support live preview out of the box to keep calling your API:\n\n```js{}[plugins/preview.client.js]\nexport default async function ({ query, enablePreview }) {\n  if (query.preview) {\n    enablePreview()\n  }\n}\n```\n\nIt will automatically refresh the page data (calling `nuxtServerInit`, `asyncData` and `fetch`).\n\nWhen the preview mode is activated, `asyncData` and `fetch` original methods will be called.\n\n## Commands\n\nDepending of the `target`, you can run these commands.\n\n- `server`\n  - `nuxt dev`: Start the development server\n  - `nuxt build`: Bundle your Nuxt application for production\n  - `nuxt start`: Start the production server\n- `static`\n  - `nuxt dev`: Start the development server (static aware)\n  - `nuxt generate`: Bundle your Nuxt application for production if needed (static aware) and export your application to static HTML in `dist/` directory\n  - `nuxt start`: Serve your production application from `dist/`\n\n### What to do next\n\n::alert{type=\"next\"}\nTo learn more about how to move from @nuxtjs/dotenv to runtime config check out [this article](/tutorials/moving-from-nuxtjs-dotenv-to-runtime-config).\n::\n\n::alert{type=\"next\"}\n[Subscribe to the newsletter](#subscribe-to-newsletter) to not miss the upcoming articles and resources.\n::\n","ast":{"type":"root","children":[{"type":"element","tag":"prose-h2","props":{"id":"too-long-to-read"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#too-long-to-read"},"children":[{"type":"text","value":"Too long to read"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ol","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Upgrade nuxt to "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"2.14.0"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Set "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"target: 'static'"}]},{"type":"text","value":" in your "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt.config.js"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Run "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt generate"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"That's it ‚ú®"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"element","tag":"prose-em","props":{},"children":[{"type":"text","value":"Bonus: you can run "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt start"}]},{"type":"text","value":" to run a local server serving your generated static application."}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"video-player","props":{":sources":"[{\"src\":\"https://res.cloudinary.com/nuxt/video/upload/v1588095794/nuxt-full-static_rnnbvm.webm\",\"type\":\"video/webm\"},{\"src\":\"https://res.cloudinary.com/nuxt/video/upload/v1592503417/nuxt-full-static_rnnbvm.mp4\",\"type\":\"video/mp4\"},{\"src\":\"https://res.cloudinary.com/nuxt/video/upload/v1588095794/nuxt-full-static_rnnbvm.ogv\",\"type\":\"video/ogg\"}]","poster":"https://res.cloudinary.com/nuxt/video/upload/v1588095794/nuxt-full-static_rnnbvm.jpg"},"children":[]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Note: in this video we are using "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt export"}]},{"type":"text","value":" which has been deprecated in favor of "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt generate"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"table-of-contents"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#table-of-contents"},"children":[{"type":"text","value":"Table of Contents"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-a","props":{"href":"#too-long-to-read"},"children":[{"type":"text","value":"Too long to read"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-a","props":{"href":"#table-of-contents"},"children":[{"type":"text","value":"Table of Contents"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-a","props":{"href":"#history"},"children":[{"type":"text","value":"History"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-a","props":{"href":"#current-issues"},"children":[{"type":"text","value":"Current issues"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-a","props":{"href":"#new-config-option-target"},"children":[{"type":"text","value":"New config option: "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"target"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-a","props":{"href":"#smarter-nuxt-generate"},"children":[{"type":"text","value":"Smarter "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt generate"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-a","props":{"href":"#crazy-fast-static-applications"},"children":[{"type":"text","value":"Crazy fast static applications"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-a","props":{"href":"#crawler-integrated"},"children":[{"type":"text","value":"Crawler integrated"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-a","props":{"href":"#faster-re-deploy"},"children":[{"type":"text","value":"Faster re-deploy"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-a","props":{"href":"#smarter-nuxt-start"},"children":[{"type":"text","value":"Smarter "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt start"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-a","props":{"href":"#preview-mode"},"children":[{"type":"text","value":"Preview mode"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-a","props":{"href":"#commands"},"children":[{"type":"text","value":"Commands"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-a","props":{"href":"#what-to-do-next"},"children":[{"type":"text","value":"What to do next"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"history"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#history"},"children":[{"type":"text","value":"History"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Nuxt had the static generation feature with "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt generate"}]},{"type":"text","value":" since "},{"type":"element","tag":"prose-a","props":{"href":"https://github.com/nuxt/nuxt.js/releases/tag/v0.3.2","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"v0.3.2"}]},{"type":"text","value":" (November 2016), since then we have improved it in multiple ways but never achieved full static generation. Today I am excited to announce that full static export is now possible with Nuxt 2.13."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"current-issues"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#current-issues"},"children":[{"type":"text","value":"Current issues"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt generate"}]},{"type":"text","value":" is mostly pre-rendering, when you navigate client-side, "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"asyncData"}]},{"type":"text","value":" and "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"fetch"}]},{"type":"text","value":" are called, "},{"type":"element","tag":"prose-em","props":{},"children":[{"type":"text","value":"making a request to your API"}]},{"type":"text","value":". A lot of users asked to support a \"full static\" mode, meaning to not call these 2 hooks on navigation, since the next page has been already pre-rendered."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Also, the developer experience is not optimal:"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"You have access to "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"req"}]},{"type":"text","value":" or "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"res"}]},{"type":"text","value":" on SSR but not when running "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt generate"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"process.static"}]},{"type":"text","value":" is "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"true"}]},{"type":"text","value":" only when running "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt generate"}]},{"type":"text","value":", making it slow to develop Nuxt modules or plugins for static generation"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"You have to specify all your "},{"type":"element","tag":"prose-a","props":{"href":"/docs/features/file-system-routing#dynamic-routes"},"children":[{"type":"text","value":"dynamic routes"}]},{"type":"text","value":" in "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"generate.routes"}]},{"type":"text","value":", making it harder since you don't have access to nuxt modules there."},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"You cannot test the "},{"type":"element","tag":"prose-a","props":{"href":"/docs/concepts/static-site-generation#spa-fallback"},"children":[{"type":"text","value":"SPA fallback"}]},{"type":"text","value":" in development, the fallback is a client-only version of your Nuxt application that loads when hitting a 404 page"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt generate"}]},{"type":"text","value":" runs "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt build"}]},{"type":"text","value":" by default, making it slower to generate your website if only your content changed"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Note that it was possible to have full static support with "},{"type":"element","tag":"prose-a","props":{"href":"https://github.com/DreaMinder/nuxt-payload-extractor","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"nuxt-payload-extractor"}]},{"type":"text","value":" module but it was more verbose to use and had limitations."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"new-config-option-target"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#new-config-option-target"},"children":[{"type":"text","value":"New config option: "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"target"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"To improve the user experience as well as telling Nuxt that you want to export your application to static hosting, we are introducing a "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"target"}]},{"type":"text","value":" option in your "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt.config.js"}]},{"type":"text","value":":"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"nuxt.config.js"}]},{"type":"element","tag":"pre","props":{"className":["language-js","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"export"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"default"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","literal-property","property"]},"children":[{"type":"text","value":"target"}]},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'static'"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","comment"]},"children":[{"type":"text","value":"// default is 'server'"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"base-alert","props":{"type":"warning"},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Full static doesn't work with "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"ssr: 'false'"}]},{"type":"text","value":" (which is the same as the deprecated "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"mode: 'spa'"}]},{"type":"text","value":") as this is used for client-side rendering only (Single Page Applications)."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Running "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt dev"}]},{"type":"text","value":" with the static target will improve the developer experience:"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Remove "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"req"}]},{"type":"text","value":" & "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"res"}]},{"type":"text","value":" from context"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Fallback to client-side rendering on 404, errors and redirects (see "},{"type":"element","tag":"prose-a","props":{"href":"/docs/concepts/static-site-generation#spa-fallback"},"children":[{"type":"text","value":"SPA fallback"}]},{"type":"text","value":")"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"$route.query"}]},{"type":"text","value":" will always be equal to "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"{}"}]},{"type":"text","value":" on server-side rendering"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"process.static"}]},{"type":"text","value":" is "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"true"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"We are also exposing "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"process.target"}]},{"type":"text","value":" for modules author to add logic depending on the user target."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"smarter-nuxt-generate"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#smarter-nuxt-generate"},"children":[{"type":"text","value":"Smarter "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt generate"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Now with "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"v2.14.0"}]},{"type":"text","value":", you can use "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt generate"}]},{"type":"text","value":", it will smartly know if it has to build or not."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h3","props":{"id":"crazy-fast-static-applications"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#crazy-fast-static-applications"},"children":[{"type":"text","value":"Crazy fast static applications"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt generate"}]},{"type":"text","value":" with "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"target: 'static'"}]},{"type":"text","value":" will pre-render all your pages to HTML and save a payload file in order to mock "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"asyncData"}]},{"type":"text","value":" and "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"fetch"}]},{"type":"text","value":" on client-side navigation, this means "},{"type":"element","tag":"prose-strong","props":{},"children":[{"type":"text","value":"no"}]},{"type":"text","value":" "},{"type":"element","tag":"prose-strong","props":{},"children":[{"type":"text","value":"more HTTP calls to your API on client-side navigation."}]},{"type":"text","value":" By extracting the page payload to a js file, "},{"type":"element","tag":"prose-strong","props":{},"children":[{"type":"text","value":"it also reduces the HTML size"}]},{"type":"text","value":" served as well as preloading it (from the "},{"type":"element","tag":"link","props":{},"children":[]},{"type":"text","value":" in the header) for optimal performance."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"We also improved the "},{"type":"element","tag":"prose-a","props":{"href":"/announcements/introducing-smart-prefetching"},"children":[{"type":"text","value":"smart prefetching"}]},{"type":"text","value":" when doing full static, it will also fetch the payloads, making navigation instant üëÄ"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h3","props":{"id":"crawler-integrated"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#crawler-integrated"},"children":[{"type":"text","value":"Crawler integrated"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"On top of that, it also has a crawler inside, detecting every relative link and generating it:"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"If you want to exclude a bunch of routes, use the "},{"type":"element","tag":"prose-a","props":{"href":"/docs/configuration-glossary/configuration-generate#exclude"},"children":[{"type":"text","value":"generate.exclude"}]},{"type":"text","value":". You can keep using "},{"type":"element","tag":"prose-a","props":{"href":"/docs/configuration-glossary/configuration-generate#routes"},"children":[{"type":"text","value":"generate.routes"}]},{"type":"text","value":" to add extra routes that the crawler could not detect."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"To disable the crawler, set "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"generate.crawler: false"}]},{"type":"text","value":" in your "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt.config.js"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h3","props":{"id":"faster-re-deploy"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#faster-re-deploy"},"children":[{"type":"text","value":"Faster re-deploy"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"By separating "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt build"}]},{"type":"text","value":" and "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt export"}]},{"type":"text","value":", we are opening a new range of improvements: pre-render your pages only if you content has changed, this means: no webpack build ‚Üí faster re-deployments."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"smarter-nuxt-start"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#smarter-nuxt-start"},"children":[{"type":"text","value":"Smarter "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt start"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Once you statically generated your Nuxt app into "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"dist/"}]},{"type":"text","value":", use "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt start"}]},{"type":"text","value":" to start a production HTTP server and serve your static app, supporting "},{"type":"element","tag":"prose-a","props":{"href":"/docs/concepts/static-site-generation#spa-fallback"},"children":[{"type":"text","value":"SPA Fallback"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"This command is perfect to locally test your static application before pushing to your favorite static hosting provider."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"preview-mode"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#preview-mode"},"children":[{"type":"text","value":"Preview mode"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"We do support live preview out of the box to keep calling your API:"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"plugins/preview.client.js"}]},{"type":"element","tag":"pre","props":{"className":["language-js","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"export"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"default"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"async"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"function"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","parameter"]},"children":[{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" query"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" enablePreview "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","keyword","control-flow"]},"children":[{"type":"text","value":"if"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"query"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","property-access"]},"children":[{"type":"text","value":"preview"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"enablePreview"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"It will automatically refresh the page data (calling "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxtServerInit"}]},{"type":"text","value":", "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"asyncData"}]},{"type":"text","value":" and "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"fetch"}]},{"type":"text","value":")."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"When the preview mode is activated, "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"asyncData"}]},{"type":"text","value":" and "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"fetch"}]},{"type":"text","value":" original methods will be called."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"commands"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#commands"},"children":[{"type":"text","value":"Commands"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Depending of the "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"target"}]},{"type":"text","value":", you can run these commands."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"server"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt dev"}]},{"type":"text","value":": Start the development server"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt build"}]},{"type":"text","value":": Bundle your Nuxt application for production"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt start"}]},{"type":"text","value":": Start the production server"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"static"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt dev"}]},{"type":"text","value":": Start the development server (static aware)"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt generate"}]},{"type":"text","value":": Bundle your Nuxt application for production if needed (static aware) and export your application to static HTML in "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"dist/"}]},{"type":"text","value":" directory"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt start"}]},{"type":"text","value":": Serve your production application from "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"dist/"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h3","props":{"id":"what-to-do-next"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#what-to-do-next"},"children":[{"type":"text","value":"What to do next"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"alert","props":{"type":"next"},"children":[{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"To learn more about how to move from "},{"type":"element","tag":"prose-a","props":{"href":"https://github.com/nuxtjs/dotenv"},"children":[{"type":"element","tag":"prose-strong","props":{},"children":[{"type":"text","value":"@nuxtjs/dotenv"}]}]},{"type":"text","value":" to runtime config check out "},{"type":"element","tag":"prose-a","props":{"href":"/tutorials/moving-from-nuxtjs-dotenv-to-runtime-config"},"children":[{"type":"text","value":"this article"}]},{"type":"text","value":"."}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"alert","props":{"type":"next"},"children":[{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"element","tag":"prose-a","props":{"href":"#subscribe-to-newsletter"},"children":[{"type":"text","value":"Subscribe to the newsletter"}]},{"type":"text","value":" to not miss the upcoming articles and resources."}]}]}]},"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"too-long-to-read","depth":2,"text":"Too long to read"},{"id":"table-of-contents","depth":2,"text":"Table of Contents"},{"id":"history","depth":2,"text":"History"},{"id":"current-issues","depth":2,"text":"Current issues"},{"id":"new-config-option-target","depth":2,"text":"New config option: target"},{"id":"smarter-nuxt-generate","depth":2,"text":"Smarter nuxt generate","children":[{"id":"crazy-fast-static-applications","depth":3,"text":"Crazy fast static applications"},{"id":"crawler-integrated","depth":3,"text":"Crawler integrated"},{"id":"faster-re-deploy","depth":3,"text":"Faster re-deploy"}]},{"id":"smarter-nuxt-start","depth":2,"text":"Smarter nuxt start"},{"id":"preview-mode","depth":2,"text":"Preview mode"},{"id":"commands","depth":2,"text":"Commands","children":[{"id":"what-to-do-next","depth":3,"text":"What to do next"}]}]}}}