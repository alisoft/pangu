{"key":"content:en:2.guide:2.features:7.error-handling.md","generatedAt":"2022-07-12T11:59:48.804Z","mtime":"2022-07-12T11:59:48.790Z","slug":"error-handling","title":"Error Handling","position":"000200020007","to":"/guide/features/error-handling","draft":false,"page":true,"language":"en","empty":false,"description":"","body":{"raw":"# Error Handling\n\n## Handling errors\n\nNuxt 3 is a full-stack framework, which means there are several sources of unpreventable user runtime errors that can happen in different contexts:\n\n1. Errors during the Vue rendering lifecycle (SSR + SPA)\n1. Errors during API or Nitro server lifecycle\n1. Server and client startup errors (SSR + SPA)\n\n### Errors during the Vue rendering lifecycle (SSR + SPA)\n\nYou can hook into Vue errors using [`onErrorCaptured`](https://vuejs.org/api/composition-api-lifecycle.html#onerrorcaptured).\n\nIn addition, Nuxt provides a `vue:error` hook that will be called if any errors propagate up to the top level.\n\nIf you are using a error reporting framework, you can provide a global handler through [`vueApp.config.errorHandler`](https://vuejs.org/api/application.html#app-config-errorhandler). It will receive all Vue errors, even if they are handled.\n\n#### Example with global error reporting framework\n\n```js\nexport default defineNuxtPlugin((nuxtApp) => {\n  nuxtApp.vueApp.config.errorHandler = (error, context) => {\n    // ...\n  }\n})\n```\n\n### Server and client startup errors (SSR + SPA)\n\nNuxt will call the `app:error` hook if there are any errors in starting your Nuxt application.\n\nThis includes:\n\n* running Nuxt plugins\n* processing `app:created` and `app:beforeMount` hooks\n* mounting the app (on client-side), though you should handle this case with `onErrorCaptured` or with `vue:error`\n* processing the `app:mounted` hook\n\n### Errors during API or Nitro server lifecycle\n\nYou cannot currently define a server-side handler for these errors, but can render an error page (see the next section).\n\n## Rendering an error page\n\nWhen Nuxt encounters a fatal error, whether during the server lifecycle, or when rendering your Vue application (both SSR and SPA), it will either render a JSON response (if requested with `Accept: application/json` header) or an HTML error page.\n\nYou can customize this error page by adding `~/error.vue` in the source directory of your application, alongside `app.vue`. This page has a single prop - `error` which contains an error for you to handle.\n\nWhen you are ready to remove the error page, you can call the `clearError` helper function, which takes an optional path to redirect to (for example, if you want to navigate to a 'safe' page).\n\n::alert{type=\"warning\"}\nMake sure to check before using anything dependent on Nuxt plugins, such as `$route` or `useRouter`, as if a plugin threw an error, then it won't be re-run until you clear the error.\n::\n\n### Example\n\n```vue [error.vue]\n<template>\n  <button @click=\"handleError\">Clear errors</button>\n</template>\n\n<script setup>\nconst props = defineProps({\n  error: Object\n})\n\nconst handleError = () => clearError({ redirect: '/' })\n</script>\n```\n\n## Error helper methods\n\n### `useError`\n\n* `function useError (): Ref<any>`\n\nThis function will return the global Nuxt error that is being handled.\n\n::ReadMore{link=\"/api/composables/use-error\"}\n::\n\n### `throwError`\n\n* `function throwError (err: string | Error): Error`\n\nYou can call this function at any point on client-side, or (on server side) directly within middleware, plugins or `setup()` functions. It will trigger a full-screen error page (as above) which you can clear with `clearError`.\n\n::ReadMore{link=\"/api/utils/throw-error\"}\n::\n\n### `clearError`\n\n* `function clearError (options?: { redirect?: string }): Promise<void>`\n\nThis function will clear the currently handled Nuxt error. It also takes an optional path to redirect to (for example, if you want to navigate to a 'safe' page).\n\n::ReadMore{link=\"/api/utils/clear-error\"}\n::\n\n## Rendering errors within your app\n\nNuxt also provides a `<NuxtErrorBoundary>` component that allows you to handle client-side errors within your app, without replacing your entire site with an error page.\n\nThis component is responsible for handling errors that occur within its default slot. On client-side, it will prevent the error from bubbling up to the top level, and will render the `#error` slot instead.\n\nThe `#error` slot will receive `error` as a prop. (If you set `error = null` it will trigger re-rendering the default slot; you'll need to ensure that the error is fully resolved first or the error slot will just be rendered a second time.)\n\n::alert{type=\"info\"}\nIf you navigate to another route, the error will be cleared automatically.\n::\n\n### Example\n\n```vue [pages/index.vue]\n<template>\n  <!-- some content -->\n  <NuxtErrorBoundary @error=\"someErrorLogger\">\n    <!-- You use the default slot to render your content -->\n    <template #error=\"{ error }\">\n      You can display the error locally here.\n      <button @click=\"error = null\">\n        This will clear the error.\n      </button>\n    </template>\n  </NuxtErrorBoundary>\n</template>\n```\n\n:LinkExample{link=\"/examples/app/error-handling\"}\n","ast":{"type":"root","children":[{"type":"element","tag":"prose-h1","props":{"class":"d-heading-title","id":"error-handling"},"children":[{"type":"text","value":"Error Handling"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"handling-errors"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#handling-errors"},"children":[{"type":"text","value":"Handling errors"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Nuxt 3 is a full-stack framework, which means there are several sources of unpreventable user runtime errors that can happen in different contexts:"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ol","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Errors during the Vue rendering lifecycle (SSR + SPA)"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Errors during API or Nitro server lifecycle"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Server and client startup errors (SSR + SPA)"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h3","props":{"id":"errors-during-the-vue-rendering-lifecycle-ssr--spa"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#errors-during-the-vue-rendering-lifecycle-ssr--spa"},"children":[{"type":"text","value":"Errors during the Vue rendering lifecycle (SSR + SPA)"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"You can hook into Vue errors using "},{"type":"element","tag":"prose-a","props":{"href":"https://vuejs.org/api/composition-api-lifecycle.html#onerrorcaptured","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"onErrorCaptured"}]}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"In addition, Nuxt provides a "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"vue:error"}]},{"type":"text","value":" hook that will be called if any errors propagate up to the top level."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"If you are using a error reporting framework, you can provide a global handler through "},{"type":"element","tag":"prose-a","props":{"href":"https://vuejs.org/api/application.html#app-config-errorhandler","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"vueApp.config.errorHandler"}]}]},{"type":"text","value":". It will receive all Vue errors, even if they are handled."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h4","props":{"id":"example-with-global-error-reporting-framework"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#example-with-global-error-reporting-framework"},"children":[{"type":"text","value":"Example with global error reporting framework"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"pre","props":{"className":["line-numbers","language-js"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"export"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"default"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"defineNuxtPlugin"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","parameter"]},"children":[{"type":"text","value":"nuxtApp"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","arrow","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  nuxtApp"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","property-access"]},"children":[{"type":"text","value":"vueApp"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","property-access"]},"children":[{"type":"text","value":"config"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","method-variable","function-variable","method","function","property-access"]},"children":[{"type":"text","value":"errorHandler"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","parameter"]},"children":[{"type":"text","value":"error"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" context"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","arrow","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tag":"span","props":{"className":["token","comment"]},"children":[{"type":"text","value":"// ..."}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h3","props":{"id":"server-and-client-startup-errors-ssr--spa"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#server-and-client-startup-errors-ssr--spa"},"children":[{"type":"text","value":"Server and client startup errors (SSR + SPA)"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Nuxt will call the "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"app:error"}]},{"type":"text","value":" hook if there are any errors in starting your Nuxt application."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"This includes:"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"running Nuxt plugins"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"processing "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"app:created"}]},{"type":"text","value":" and "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"app:beforeMount"}]},{"type":"text","value":" hooks"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"mounting the app (on client-side), though you should handle this case with "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"onErrorCaptured"}]},{"type":"text","value":" or with "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"vue:error"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"processing the "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"app:mounted"}]},{"type":"text","value":" hook"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h3","props":{"id":"errors-during-api-or-nitro-server-lifecycle"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#errors-during-api-or-nitro-server-lifecycle"},"children":[{"type":"text","value":"Errors during API or Nitro server lifecycle"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"You cannot currently define a server-side handler for these errors, but can render an error page (see the next section)."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"rendering-an-error-page"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#rendering-an-error-page"},"children":[{"type":"text","value":"Rendering an error page"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"When Nuxt encounters a fatal error, whether during the server lifecycle, or when rendering your Vue application (both SSR and SPA), it will either render a JSON response (if requested with "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"Accept: application/json"}]},{"type":"text","value":" header) or an HTML error page."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"You can customize this error page by adding "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"~/error.vue"}]},{"type":"text","value":" in the source directory of your application, alongside "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"app.vue"}]},{"type":"text","value":". This page has a single prop - "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"error"}]},{"type":"text","value":" which contains an error for you to handle."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"When you are ready to remove the error page, you can call the "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"clearError"}]},{"type":"text","value":" helper function, which takes an optional path to redirect to (for example, if you want to navigate to a 'safe' page)."}]},{"type":"text","value":"\n"},{"type":"element","tag":"alert","props":{"type":"warning"},"children":[{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Make sure to check before using anything dependent on Nuxt plugins, such as "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"$route"}]},{"type":"text","value":" or "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"useRouter"}]},{"type":"text","value":", as if a plugin threw an error, then it won't be re-run until you clear the error."}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h3","props":{"id":"example"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#example"},"children":[{"type":"text","value":"Example"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"error.vue"}]},{"type":"element","tag":"pre","props":{"className":["line-numbers","language-html"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"button"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","attr-name"]},"children":[{"type":"text","value":"@click"}]},{"type":"element","tag":"span","props":{"className":["token","attr-value"]},"children":[{"type":"element","tag":"span","props":{"className":["token","punctuation","attr-equals"]},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]},{"type":"text","value":"handleError"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"Clear errors"},{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"</"}]},{"type":"text","value":"button"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"</"}]},{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n\n"},{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"script"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","attr-name"]},"children":[{"type":"text","value":"setup"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"span","props":{"className":["token","script"]},"children":[{"type":"element","tag":"span","props":{"className":["token","language-javascript"]},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" props "},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"defineProps"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  error"},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","known-class-name","class-name"]},"children":[{"type":"text","value":"Object"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n\n"},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","function-variable","function"]},"children":[{"type":"text","value":"handleError"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","arrow","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"clearError"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" redirect"},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'/'"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"</"}]},{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"error-helper-methods"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#error-helper-methods"},"children":[{"type":"text","value":"Error helper methods"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h3","props":{"id":"useerror"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#useerror"},"children":[{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"useError"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"function useError (): Ref<any>"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"This function will return the global Nuxt error that is being handled."}]},{"type":"text","value":"\n"},{"type":"element","tag":"read-more","props":{"link":"/api/composables/use-error"},"children":[]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h3","props":{"id":"throwerror"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#throwerror"},"children":[{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"throwError"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"function throwError (err: string | Error): Error"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"You can call this function at any point on client-side, or (on server side) directly within middleware, plugins or "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"setup()"}]},{"type":"text","value":" functions. It will trigger a full-screen error page (as above) which you can clear with "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"clearError"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tag":"read-more","props":{"link":"/api/utils/throw-error"},"children":[]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h3","props":{"id":"clearerror"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#clearerror"},"children":[{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"clearError"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"function clearError (options?: { redirect?: string }): Promise<void>"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"This function will clear the currently handled Nuxt error. It also takes an optional path to redirect to (for example, if you want to navigate to a 'safe' page)."}]},{"type":"text","value":"\n"},{"type":"element","tag":"read-more","props":{"link":"/api/utils/clear-error"},"children":[]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"rendering-errors-within-your-app"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#rendering-errors-within-your-app"},"children":[{"type":"text","value":"Rendering errors within your app"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Nuxt also provides a "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"<NuxtErrorBoundary>"}]},{"type":"text","value":" component that allows you to handle client-side errors within your app, without replacing your entire site with an error page."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"This component is responsible for handling errors that occur within its default slot. On client-side, it will prevent the error from bubbling up to the top level, and will render the "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"#error"}]},{"type":"text","value":" slot instead."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"#error"}]},{"type":"text","value":" slot will receive "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"error"}]},{"type":"text","value":" as a prop. (If you set "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"error = null"}]},{"type":"text","value":" it will trigger re-rendering the default slot; you'll need to ensure that the error is fully resolved first or the error slot will just be rendered a second time.)"}]},{"type":"text","value":"\n"},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"If you navigate to another route, the error will be cleared automatically."}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h3","props":{"id":"example-1"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#example-1"},"children":[{"type":"text","value":"Example"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"pages/index.vue"}]},{"type":"element","tag":"pre","props":{"className":["line-numbers","language-html"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","comment"]},"children":[{"type":"text","value":"<!-- some content -->"}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"NuxtErrorBoundary"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","attr-name"]},"children":[{"type":"text","value":"@error"}]},{"type":"element","tag":"span","props":{"className":["token","attr-value"]},"children":[{"type":"element","tag":"span","props":{"className":["token","punctuation","attr-equals"]},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]},{"type":"text","value":"someErrorLogger"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n    "},{"type":"element","tag":"span","props":{"className":["token","comment"]},"children":[{"type":"text","value":"<!-- You use the default slot to render your content -->"}]},{"type":"text","value":"\n    "},{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"template"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","attr-name"]},"children":[{"type":"text","value":"#error"}]},{"type":"element","tag":"span","props":{"className":["token","attr-value"]},"children":[{"type":"element","tag":"span","props":{"className":["token","punctuation","attr-equals"]},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]},{"type":"text","value":"{ error }"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n      You can display the error locally here.\n      "},{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"button"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","attr-name"]},"children":[{"type":"text","value":"@click"}]},{"type":"element","tag":"span","props":{"className":["token","attr-value"]},"children":[{"type":"element","tag":"span","props":{"className":["token","punctuation","attr-equals"]},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]},{"type":"text","value":"error = null"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n        This will clear the error.\n      "},{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"</"}]},{"type":"text","value":"button"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n    "},{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"</"}]},{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"</"}]},{"type":"text","value":"NuxtErrorBoundary"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"</"}]},{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"link-example","props":{"link":"/examples/app/error-handling"},"children":[]}]},"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"handling-errors","depth":2,"text":"Handling errors","children":[{"id":"errors-during-the-vue-rendering-lifecycle-ssr--spa","depth":3,"text":"Errors during the Vue rendering lifecycle (SSR + SPA)"},{"id":"server-and-client-startup-errors-ssr--spa","depth":3,"text":"Server and client startup errors (SSR + SPA)"},{"id":"errors-during-api-or-nitro-server-lifecycle","depth":3,"text":"Errors during API or Nitro server lifecycle"}]},{"id":"rendering-an-error-page","depth":2,"text":"Rendering an error page","children":[{"id":"example","depth":3,"text":"Example"}]},{"id":"error-helper-methods","depth":2,"text":"Error helper methods","children":[{"id":"useerror","depth":3,"text":"useError"},{"id":"throwerror","depth":3,"text":"throwError"},{"id":"clearerror","depth":3,"text":"clearError"}]},{"id":"rendering-errors-within-your-app","depth":2,"text":"Rendering errors within your app","children":[{"id":"example-1","depth":3,"text":"Example"}]}]}}}